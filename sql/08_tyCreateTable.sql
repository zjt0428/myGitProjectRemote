--周材品名设置
CREATE TABLE T_MATERIALS_COMMODITY 
(
	COMMODITY_ID BIGINT IDENTITY PRIMARY KEY,
	ASSETS_PROPERTY VARCHAR(64) NULL,		--资产属性
	COMMODITY VARCHAR(64) NOT NULL,			--品名
	WHETHER_USING VARCHAR(6) NULL,			--是否在用
	DAILY_RENT VARCHAR(24) NULL,			--日租金
	RENT_UNIT VARCHAR(12) NULL,				--租金核算单位
	COMPENSATION_COSTS	VARCHAR(12),		--丢失赔偿单价
	COMPENSATION_UNIT	VARCHAR(12)			--丢失赔偿单位
)

--周材规格设置
CREATE TABLE T_MATERIALS_SPECIFICATIONS
(
	SPECIFICATIONS_ID BIGINT IDENTITY PRIMARY KEY,
	COMMODITY_ID BIGINT NOT NULL,				--品名(来源 周材品名设置表)
	SPECIFICATIONS VARCHAR(64) NOT NULL,		--周材规格
	MNEMONICS VARCHAR(12) NULL,					--代码编号
	WHETHER_USING VARCHAR(6) NULL,				--是否在用
	FIRST_UNIT_CONVERSION VARCHAR(12) NULL,		--换算单位1
	SECOND_UNIT_CONVERSION VARCHAR(12) NULL,	--换算单位2
	FIRST_CONVERTED_QUANTITY VARCHAR(12) NULL,	--换算数量1
	SECOND_CONVERTED_QUANTITY VARCHAR(12) NULL	--换算数量2
)


--损坏赔偿设置
CREATE TABLE T_MATERIALS_DAMAGE
(
	DAMAGE_ID BIGINT IDENTITY PRIMARY KEY,
	COMMODITY_ID BIGINT NOT NULL,				--品名(来源 周材品名设置表)
	FEES_TYPE VARCHAR(24) NULL,					--收费类型
	DAMAGE_TYPE VARCHAR(24) NULL,				--损坏类型
	MEASUREMENT_UNIT VARCHAR(24) NULL,			--计量单位
	WHETHER_USING VARCHAR(6) NULL,				--是否在用
	DAMAGE_UNIT_PRICE VARCHAR(24) NULL			--损坏单价
)

--报废赔偿设置
CREATE TABLE T_MATERIALS_SCRAP
(
	SCRAP_ID BIGINT IDENTITY PRIMARY KEY,
	COMMODITY_ID BIGINT NOT NULL,				--品名(来源 周材品名设置表)
	FEES_TYPE VARCHAR(24) NULL,					--收费类型
	MEASUREMENT_UNIT VARCHAR(24) NULL,			--计量单位
	WHETHER_USING VARCHAR(6) NULL,				--是否在用
	SCRAP_TYPE VARCHAR(32) NULL,				--报废类型
	SCRAP_UNIT_PRICE VARCHAR(24) NULL			--损坏单价
)

--装卸/包装费设置
CREATE TABLE T_ASSEMBLE_AND_DISASSEMBLE_FEE
(
	FEE_ID BIGINT IDENTITY PRIMARY KEY,
	COMMODITY_ID BIGINT NOT NULL,				--品名(来源 周材品名设置表)
	FEES_TYPE VARCHAR(24) NULL,					--收费类型
	MEASUREMENT_UNIT VARCHAR(24) NULL,			--计量单位
	WHETHER_USING VARCHAR(6) NULL,				--是否在用
	THEORIES_VALUE_CONVERSION VARCHAR(12) NULL,	--理论换算数值
	UNIT_CONVERSION VARCHAR(12) NULL,			--换算单位
	FEE_CATEGORY VARCHAR(32) NULL,				--收费类别
	CHARGE_UNIT_PRICE VARCHAR(24) NULL			--收费单价
)

--周转材料摊销设置
CREATE TABLE T_MATERIALS_AMORTIZATION
(
	AMORTIZATION_ID BIGINT IDENTITY PRIMARY KEY,
	COMMODITY_ID BIGINT NOT NULL,				--品名(来源 周材品名设置表)
	TOTAL_AMORTIZATION_MONTHS VARCHAR(12) NULL,	--总计摊销月数
	YEAR_AMORTIZATION_RATE VARCHAR(12) NULL		--年摊销率
)

--周转材料摊销初始化
CREATE TABLE T_AMORTIZATION_INITIALIZATION
(
	INITIALIZATION_ID BIGINT IDENTITY PRIMARY KEY,
	COMMODITY_ID BIGINT NOT NULL,				--品名(来源 周材品名设置表)
	FORMATION_TIME VARCHAR(12) NULL,			--形成时间
	UNIT VARCHAR(12) NULL,						--单位
	QUANTITY VARCHAR(12) NULL,					--数量
	ORIGINAL_VALUE VARCHAR(12) NULL,			--原值
	AMORTIZATION_ID BIGINT NOT NULL,			--总计摊销月数(来源 周材摊销设置表)
	AMORTIZED_MONTHS VARCHAR(6) NULL,			--已摊销月数
	AMORTIZED_AMOUNT VARCHAR(12) NULL,			--已摊销金额
	NOTYET_AMORTIZED_MONTHS VARCHAR(6) NULL,	--未摊销月数
	NOTYET_AMORTIZED_AMOUNT VARCHAR(12) NULL	--未摊销金额
	
)

--周材计划
CREATE TABLE T_MATERIALS_PLAN
(
	MATERIALSPLAN_ID		BIGINT IDENTITY PRIMARY KEY,
	DOCUMENT_SERIAL 	    VARCHAR(64) NOT NULL,		    --单据号(XQJH+年月日+3位流水号)
	APPLYFOR_STATE          CHAR(1) NOT NULL,				--申请状态(0:待提交，1:待核准，2:待确认，3:确认)
	REPORTING_TIME 			CHAR(10) NOT NULL,				--申报时间(默认当前时间)
	PROJECT_ID				BIGINT NULL,					--项目ID
	PROJECT_NAME			VARCHAR(64) NULL,               --工程名称(来源项目管理)
	ENGINEERING_TYPE		VARCHAR(6) NOT NULL,			--工程类型(来源代码词典)
	USER_ID                 BIGINT NOT NULL,                
  	USER_NAME               VARCHAR(64) NOT NULL,           --计划申报人(默认当前登陆账户)
	BELONG_TO_AREA_NAME		VARCHAR(64) NULL,				--工程区域
	PLAN_TYPE				VARCHAR(6) NULL,				--计划类型(代码词典，下拉)
	ASSETS_PROPERTY 		VARCHAR(6) NULL,				--资产属性(代码词典，下拉)
	WORK_FLOW				VARCHAR(32) NULL,				--工作流(来源工作流设置)
	TITLE					VARCHAR(32) NULL,				--标题
	APPROVER				VARCHAR(32) NULL,				--核准人
	APPROVAL_DATE			CHAR(10) NULL,					--核准日期
  	CONFIRMING_PERSON		VARCHAR(32) NULL,				--确认人
	CONFIRMATION_DATE 		CHAR(10) NULL,					--确认日期
	ENGINEERING_SCHEDULE	VARCHAR(32) NULL,				--工程进度
	REMARK                  VARCHAR(256) NULL,              --备注
	FILE_ATTACHES			VARCHAR(1024) NULL,				--附件
)

--需求明细
CREATE TABLE T_DEMAND_DETAIL
(
	DEMAND_ID				BIGINT IDENTITY PRIMARY KEY,
	MATERIALSPLAN_ID		BIGINT NULL,
	COMMODITY_ID    		BIGINT NULL,
	MNEMONIC_CODE			VARCHAR(12) NULL,				--助记码
	COMMODITY 				VARCHAR(64) NOT NULL,			--品名
	DEMAND_SERIAL			VARCHAR(12) NULL,				--周材编号
	SPECIFICATIONS 			VARCHAR(64) NOT NULL,			--周材规格
	BRAND					VARCHAR(64)  NULL,				--品牌
	UNIT					VARCHAR(64)  NULL,			    --单位
	DEMAND_NUM				VARCHAR(12) NULL,				--需求数量
	AUXILIARY_UNIT			VARCHAR(64)  NULL,			    --辅助单位
	AUXILIARY_NUM			VARCHAR(12) NULL,				--辅助数量
	START_DATE              CHAR(10)  NULL,                 --预计进场时间
	RELATE_ID             	BIGINT  NULL,                   --关联ID
	RELATE_MODULE           VARCHAR(64)  NULL,              --关联模块名称
)


--报废申请
CREATE TABLE T_SCRAP_APPLY(
  SCRAP_ID						BIGINT IDENTITY PRIMARY KEY, 
  SCRAP_SERIAL					VARCHAR(64) NULL,					--申请单号
  APPLY_DATE					VARCHAR(64) NULL,					--申请日期
  USER_ID						BIGINT NOT NULL,					--申请人ID
  USER_NAME						VARCHAR(32) NULL,					--申请人名称
  STORE_NAME					VARCHAR(16) NULL,					--仓库名称
  STORAGE_LOCATION      		VARCHAR(16) NULL,				 	--库位
  STATUS	    	   			char(1) NOT NULL  DEFAULT 0, 		--状态
  AUDITOR_ID					BIGINT  NULL,						--审核人ID
  AUDITOR_NAME					VARCHAR(64) NULL,					--审核人
  AUDITOR_DATE					VARCHAR(32) NULL,					--审核日期
  APPROV_ID						BIGINT  NULL,						--审批人ID
  APPROV_NAME					VARCHAR(32) NULL,					--审批人
  APPROV_DATE					VARCHAR(32) NULL,					--审批日期
  REMARK						VARCHAR(128) NULL,					--备注
  APPLYFOR_STATE				CHAR(1) NOT NULL DEFAULT 0, 		--审批状态
  DEL_FLAG               		CHAR(1) NOT NULL DEFAULT 1 
);

--报废合同
CREATE TABLE T_SCRAP_CONTRACT(
  CONTRACT_ID					BIGINT IDENTITY PRIMARY KEY, 
  CONTRACT_SERIAL				VARCHAR(64) NULL,					--申请单号
  CONTRACT_DATE					VARCHAR(64) NULL,					--申请日期
  USER_ID						BIGINT NOT NULL,					--制单人ID
  USER_NAME						VARCHAR(32) NULL,					--制单人名称
  STORE_NAME					VARCHAR(16) NULL,					--仓库名称
  STORAGE_LOCATION      		VARCHAR(16) NULL,				 	--库位
  STATUS	    	   			char(1) NOT NULL  DEFAULT 0, 		--状态
  APPROV_ID						BIGINT  NULL,						--审批人ID
  APPROV_NAME					VARCHAR(32) NULL,					--审批人
  APPROV_DATE					VARCHAR(64) NULL,					--审批日期
  PA_ENT_NAME					VARCHAR(32) NULL,					--甲方单位
  PB_ENT_NAME					VARCHAR(32) NULL,					--乙方单位
  ASSET_ATTRIBUTES				VARCHAR(32) NULL,					--资产属性
  REVIEW_INFO					VARCHAR(32) NULL,					--合同评审信息
  REMARK						VARCHAR(128) NULL,					--备注
  APPLYFOR_STATE				CHAR(1) NOT NULL DEFAULT 0, 		--审批状态
  DEL_FLAG               		CHAR(1) NOT NULL DEFAULT 1 
);
--报废处理
CREATE TABLE T_SCRAP_HANDLE(
  HANDLE_ID					BIGINT IDENTITY PRIMARY KEY, 
  SCRAP_SERIAL				    VARCHAR(64) NULL,					--申请单号
  CONTRACT_DATE					VARCHAR(64) NULL,					--申请日期
  USER_ID						BIGINT NOT NULL,					--制单人ID
  USER_NAME						VARCHAR(32) NULL,					--制单人名称
  STORE_NAME					VARCHAR(16) NULL,					--仓库名称
  STORAGE_LOCATION      		VARCHAR(16) NULL,				 	--库位
  STATUS	    	   			char(1) NOT NULL  DEFAULT 0, 		--状态
  APPROV_ID						BIGINT  NULL,						--审批人ID
  APPROV_NAME					VARCHAR(32) NULL,					--审批人
  APPROV_DATE					VARCHAR(64) NULL,					--审批日期
  REMARK						VARCHAR(128) NULL,					--备注
  APPLYFOR_STATE				CHAR(1) NOT NULL DEFAULT 0, 		--审批状态
  DEL_FLAG               		CHAR(1) NOT NULL DEFAULT 1 
);

--发货调度
CREATE TABLE T_MATERIALS_DISPATCH(
  MATERIALS_ID					BIGINT IDENTITY PRIMARY KEY, 
  DISPATCH_SERIAL				VARCHAR(64) NULL,					--单号
  APPLY_DATE					VARCHAR(64) NULL,					--制单日期
  USER_ID						BIGINT NOT NULL,					--制单人ID
  USER_NAME						VARCHAR(32) NULL,					--制单人名称
  STORE_NAME					VARCHAR(16) NULL,					--仓库名称
  STORAGE_LOCATION      		VARCHAR(16) NULL,				 	--库位
  STATUS	    	   			char(1) NOT NULL  DEFAULT 0, 		--状态
  CONTRACT_ID					BIGINT NOT NULL,					--合同ID
  CONTRACT_SERIAL				VARCHAR(32) NULL,					--合同编号
  PB_ENT_ID						BIGINT NOT NULL,					--承租单位ID
  PB_ENT_NAME					VARCHAR(64) NULL,					--承租单位
  PROJECT_NAME					VARCHAR(64) NULL,					--工程名称
  VEHICLE_NUM					VARCHAR(64) NULL,					--运输车辆号
  VEHICLE_PERSON				VARCHAR(32) NULL,					--运输车辆人员
  APPLYFOR_STATE				CHAR(1) NOT NULL DEFAULT 0, 		--审批状态
  DEL_FLAG               		CHAR(1) NOT NULL DEFAULT 1 
);

--现场装车
CREATE TABLE T_MATERIALS_PACKAGE(
  PACKAGE_ID					BIGINT IDENTITY PRIMARY KEY, 
  PACKAGE_SERIAL				VARCHAR(64) NULL,					--单号
  APPLY_DATE					VARCHAR(64) NULL,					--制单日期
  USER_ID						BIGINT NOT NULL,					--制单人ID
  USER_NAME						VARCHAR(32) NULL,					--制单人名称
  STORE_NAME					VARCHAR(16) NULL,					--仓库名称
  STORAGE_LOCATION      		VARCHAR(16) NULL,				 	--出库库位
  STATUS	    	   			char(1) NOT NULL  DEFAULT 0, 		--状态
  CONTRACT_ID					BIGINT NOT NULL,					--合同ID
  CONTRACT_SERIAL				VARCHAR(32) NULL,					--合同编号
  PB_ENT_ID						BIGINT NOT NULL,					--承租单位ID
  PB_ENT_NAME					VARCHAR(64) NULL,					--承租单位
  PROJECT_NAME					VARCHAR(64) NULL,					--工程名称
  PACKAGE_DATE					VARCHAR(64) NULL,					--装车日期
  ATTACH_SERIAL					VARCHAR(64) NULL,					--附属单据号
  RENT_TYPE						CHAR(1) NOT NULL DEFAULT 0,			--出租类型
  VEHICLE_NUM					VARCHAR(64) NULL,					--运输车辆号
  VEHICLE_PERSON				VARCHAR(32) NULL,					--运输车辆人员
  QR_CODE						VARCHAR(256) NULL,					--二维码
  TRANPORT_AMOUNT				VARCHAR(32) NULL,					--运费
  TRANPORT_CACULATE_TYPE		VARCHAR(32) NULL,					--计费方式
  DISPATCH_AUDITOR_ID			BIGINT NOT NULL,					--收发审核人ID
  DISPATCH_AUDITOR_NAME			VARCHAR(32) NULL,					--收发审核人
  DISPATCH_AUDITOR_DATE			VARCHAR(64) NULL,					--收发审核时间
  ORDER_AUDITOR_ID			    BIGINT NOT NULL,					--单据审核人ID
  ORDER_AUDITOR_NAME			VARCHAR(32) NULL,					--单据审核人
  ORDER_AUDITOR_DATE			VARCHAR(64) NULL,					--单据审核时间
  APPLYFOR_STATE				CHAR(1) NOT NULL DEFAULT 0, 		--审批状态
  DEL_FLAG               		CHAR(1) NOT NULL DEFAULT 1 
);


--安拆价格表
CREATE TABLE T_INSTALL_DISMANTLE_PRICE
(
	PRICE_ID BIGINT IDENTITY PRIMARY KEY,
	BELONG_TO_AREA 					VARCHAR(16)	  NULL,	 	 --区域
    EQUIP_SPECIFIC             		VARCHAR(6) NOT NULL,     --规格型号(表码 BM_EQUIP_SPECIFIC)
    INSTALL_DISMANTLE_TYPE          VARCHAR(16) NOT NULL,    --安拆类型
    MEASUREMENT_UNIT             	VARCHAR(32) NOT NULL,    --计量单位
    PROJECT_PRICE             		BIGINT  NULL,            --项目单价
    TEAM_PRICE            		    BIGINT  NULL,            --班组单价
    DEL_FLAG               		CHAR(1) NOT NULL DEFAULT 1 
)

--泵车计划
CREATE TABLE T_TRUCK_PLAN
(
	TRUCKPLAN_ID			BIGINT IDENTITY PRIMARY KEY,
	TRUCKPLAN_SERIAL		VARCHAR(12) NOT NULL,			--业务编号(BC+年月日+3位流水号)
	TRUCK_PLAN_THEME		VARCHAR(64) NOT NULL,			--业务主题
	APPLYFOR_STATE          CHAR(1) NOT NULL,				--申请状态
	USER_ID                 BIGINT NOT NULL,                
  	USER_NAME               VARCHAR(64) NOT NULL,           --填报人(默认当前登陆账户)
	PROVIDED_DATE			CHAR(10) NOT NULL,				--申请日期
	CUSTOMER_ID				BIGINT NULL,
	CUSTOMER_NAME 			VARCHAR(64) NOT NULL,			--承租单位(来源客户档案)
	PB_ENT                  BIGINT NULL,                    --出租单位(来源企业档案)
	PB_MODULE               VARCHAR(32) NOT NULL,			
  	PB_ENT_NAME             VARCHAR(64) NOT NULL,           --出租单位
  	PB_ENT_LINK_MAN         VARCHAR(20) NULL,            	--出租单位负责人
  	PB_ENT_LINK_TEL         VARCHAR(16) NULL,            	--出租方电话
	PROJECT_ID				BIGINT NULL,					--项目ID
	PROJECT_NAME			VARCHAR(64) NOT NULL, 			--工程名称(来源项目档案)
	SIGNING_TIME            CHAR(10) NULL,                  --签订时间(默认当前时间)
	PRACTI_ID               BIGINT NULL,                    --销售人员ID(来源员工档案)
  	PRACTI_NAME             VARCHAR(64) NULL,               --销售人员姓名
	PROJECT_MANAGER         VARCHAR(32) NULL, 				--承租单位负责人
	TEL              		VARCHAR(16) NULL,               --承租单位电话
 	START_DATE              CHAR(10) NULL,             		--预计进场时间
 	PROJECT_ADDRESS			VARCHAR(256)  NULL, 			--项目地址
 	REMARK                  VARCHAR(256) NULL,              --备注
	FILE_ATTACHES           VARCHAR(1024) NULL,             --附件ID
)

--基地仓库管理
CREATE TABLE T_BASE_DEPOT						
(
	DEPOT_ID BIGINT IDENTITY PRIMARY KEY,
	DEPOT_NAME VARCHAR(64) NOT NULL,			--仓库名称
	LINKMAN VARCHAR(16) NULL,					--联系人
	ADDRESS VARCHAR(256) NULL,					--地址
	JURISDICTION VARCHAR(256) NULL,				--管辖资产
	DESCRIPTION VARCHAR(256) NULL				--描述
) 

--基地仓库/数据权限
CREATE TABLE T_BASE_DEPOT_PERMISSION			
(
	PERMISSION_ID BIGINT IDENTITY PRIMARY KEY,		--权限id
	DEPOT_ID BIGINT  NULL,							--仓库id
	DEPOT_NAME VARCHAR(64) NOT NULL,				--仓库名称
	USER_ID BIGINT NOT NULL,						--用户id
	USER_NAME VARCHAR(32) NOT NULL					--用户名称
)

--基地库位管理
CREATE TABLE T_BASE_LOCATION					
(
	LOCATION_ID BIGINT IDENTITY PRIMARY KEY,
	DEPOT_ID BIGINT NOT NULL,					--仓库id
	DEPOT_NAME VARCHAR(32) NOT NULL,			--仓库名称
	LOCATION_SERIAL VARCHAR(32) NOT NULL,		--库位代码
	LOCATION_NAME VARCHAR(32) NOT NULL,			--库位名称
	LINKMAN VARCHAR(16) NULL,					--联系人
	ADDRESS VARCHAR(256) NULL,					--地址
	DESCRIPTION VARCHAR(256) NULL				--描述
)

--基地库位/数据权限
CREATE TABLE T_BASE_LOCATION_PERMISSION			
(
	PERMISSION_ID BIGINT IDENTITY PRIMARY KEY,		--权限id
	LOCATION_ID BIGINT  NULL,						--库位id
	LOCATION_NAME VARCHAR(64) NOT NULL,				--库位名称
	USER_ID BIGINT NOT NULL,						--用户id	
	USER_NAME VARCHAR(32) NOT NULL					--用户名称
)

--盘点管理
CREATE TABLE T_TAKE_STOCK
(
	TAKE_STOCK_ID BIGINT IDENTITY PRIMARY KEY,
	INVOICES_SERIAL VARCHAR(32)  NULL,			--单据编号（PD+年月日+2位流水号）
	USER_ID		BIGINT NULL,					--制单人ID
  	USER_NAME	VARCHAR(32) NULL,				--制单人名称
	TAKE_STOCK_DATE VARCHAR(64)NULL,			--盘点日期
	STORE_ID		BIGINT,						--仓库id
	STORE_NAME 		VARCHAR(64) NULL,			--仓库名称
	APPLYFOR_STATE	CHAR(1) NOT NULL DEFAULT 0,	--审批状态
	REMARK			VARCHAR(128) NULL,			--备注
	DEL_FLAG        CHAR(1) NOT NULL DEFAULT 1,
	LOCATION_ID		BIGINT,						--库位id
	LOCATION_NAME	VARCHAR(64) NULL,			--库位名称
)

--周材合同
CREATE TABLE T_CONTRACT_MATERIALS
(
	CONTRACTMA_ID				BIGINT IDENTITY PRIMARY KEY,
	CONTRACT_NUMBER				CHAR(2) NULL,						--合同流水号(系统自动生成，2位流水号)
	CONTRACT_SERIAL				VARCHAR(64) NOT NULL,				--合同编号(根据规则手工输入)
	CONTRACT_THEME				VARCHAR(64) NOT NULL,				--合同主题	
	CONTRACT_CATEGORY           VARCHAR(6) NULL, 				    --合同类型(根据选择的合同类型自动显示)
	APPLYFOR_STATE             	CHAR(1) NOT NULL,					--合同状态
	ASSETS_PROPERTY 			VARCHAR(6) NULL,					--资产属性
	ASSETS_PROPERTY_NAME 		VARCHAR(32) NULL,					--资产属性
	PROJECT_ID					BIGINT NULL,						--项目ID(来源项目档案)
	PROJECT_NAME				VARCHAR(64)	NULL,					--工程名称
	PA_ENT						BIGINT NULL,
	PA_MODULE               	VARCHAR(32) NULL,
	PA_ENT_NAME 				VARCHAR(64) NOT NULL,				--承租单位(来源客户档案)
	PB_ENT                  	BIGINT NULL,                    	--出租单位(来源企业档案)
	PB_MODULE               	VARCHAR(32) NOT NULL,				
  	PB_ENT_NAME             	VARCHAR(64) NOT NULL,           	--出租单位
  	SIGNING_TIME            	CHAR(10) NOT NULL,                  --签订日期(默认当前时间)
  	TRANPORT_CACULATE_TYPE		VARCHAR(32) NOT NULL,				--计费方式(4种计费方式)
  	TAX_CACULATE_TYPE			VARCHAR(6) NOT NULL,				--计税方式(一般计税和简易征收)
  	ENGINEERING_TYPE			VARCHAR(6) NULL,					--工程类型(来源代码词典)
  	BELONG_TO_AREA				VARCHAR(6) NULL,					--工程区域(租赁公司内部划分仓库，下拉)
  	BUILDING_AREA 				VARCHAR(12)	NULL,					--建筑面积
  	PROVINCE					VARCHAR(6)  NULL,					--工地地点(所在省)
  	CITY						VARCHAR(6)  NULL,					--工地地点(所在市)
  	COUNTY						VARCHAR(6)  NULL,					--工地地点(所在区)
  	STREET						VARCHAR(128) NULL,					--工地地点(所在街道)
  	PA_ENT_LINK_MAN         	VARCHAR(32) NULL, 					--承租单位负责人
  	PB_ENT_LINK_MAN        		VARCHAR(20) NULL,            		--出租单位负责人
  	TAX_RATE                    NUMERIC(12, 2) NULL,        		--适用税率(输入，参与租金计算)
  	RENTAL_RATE					NUMERIC(12, 2) NULL,				--租金优惠比例(输入，参与租金计算)
  	FREIGHT						NUMERIC(12, 2) NULL,				--运费
  	CONTRACT_AMOUNT            	NUMERIC(12, 2) NULL,				--合同金额
  	PRE_RECEIVABLE				NUMERIC(12, 2) NULL,				--预收款
  	FIN_SETTLE_AMOUNT			NUMERIC(12, 2) NULL,				--已结算金额
  	FIN_RECEIVABLE_AMOUNT		NUMERIC(12, 2) NULL,				--已收款金额
  	VALIDATION_AMOUNT			NUMERIC(12, 2) NULL,				--审定金额
  	REMARK                  	VARCHAR(256) NULL,              	--备注
	FILE_ATTACHES           	VARCHAR(1024) NULL,             	--附件ID
)

--周材合同品名基础明细
CREATE TABLE T_MATERIALS_DETIAL
(
	MADETAIL_ID					BIGINT IDENTITY PRIMARY KEY,
	CONTRACTMA_ID				BIGINT NOT NULL,
	COMMODITY_ID    			BIGINT NULL,
	COMMODITY 					VARCHAR(64) NOT NULL,				--品名
	MEASUREMENT_UNIT 			VARCHAR(24) NULL,					--计量单位
	CACULATE_UNIT				VARCHAR(24) NULL,					--计费单位
	PLAN_LEASE					NUMERIC(12, 2) NULL,				--计划出租量(手动输入)
)

--周材合同的价格设定
CREATE TABLE T_PRICE_SETTING
(
	PRICE_ID					BIGINT IDENTITY PRIMARY KEY,
	CONTRACTMA_ID				BIGINT,
	COMMODITY_ID    			BIGINT,								--来源品名基础设置表
	COMMODITY 					VARCHAR(64) NOT NULL,				--品名
	DAILY_RENT 					VARCHAR(24) NULL,					--日租金
	COMPENSATION_COSTS 			VARCHAR(12)	NULL,					--丢失单价
	SPECIFICATIONS_ID 			BIGINT NULL,						--来源周材规格设置表
	SPECIFICATIONS				VARCHAR(64) NOT NULL,				--周材规格
)

--周材合同损坏赔偿明细
CREATE TABLE T_MAT_DAMAGE
(
	MATDAMAGE_ID 				BIGINT IDENTITY PRIMARY KEY,
	CONTRACTMA_ID				BIGINT,
	COMMODITY_ID 				BIGINT NOT NULL,					--品名(来源 周材品名设置表)
	COMMODITY 					VARCHAR(64) NOT NULL,				--品名
	DAMAGE_ID					BIGINT NULL,						--损坏赔偿ID(来源损坏赔偿设置)
	DAMAGE_TYPE 				VARCHAR(24) NULL,					--损坏类型
	MEASUREMENT_UNIT			VARCHAR(24) NULL,					--计量单位
	DAMAGE_UNIT_PRICE 			VARCHAR(24) NULL					--损坏单价
)

--周材合同中费用处理
CREATE TABLE T_COST_HANDLE
(
	COST_HANDLE_ID				BIGINT IDENTITY PRIMARY KEY,
	CONTRACTMA_ID				BIGINT NOT NULL,
	COMMODITY_ID 				BIGINT NOT NULL,					--品名ID(来源 周材品名设置表)
	COMMODITY 					VARCHAR(64) NOT NULL,				--品名
	MEASUREMENT_UNIT			VARCHAR(24) NULL,					--计量单位
	FEE_ID 						BIGINT NULL,						--ID(来源装卸/包装费设置表)
	CHARGE_UNIT_PRICE 			VARCHAR(24) NULL,					--收费单价
	FEES_TYPE 					VARCHAR(24) NULL,					--收费类型
	THEORIES_VALUE_CONVERSION 	VARCHAR(12) NULL,					--理论换算数值
	AUXILIARY_UNIT				VARCHAR(64)  NULL,			    	--辅助单位
)

--汽吊单价设定
CREATE TABLE T_TRUCK_CRANE_PRICE
(
	PRICE_ID BIGINT IDENTITY PRIMARY KEY,
	BELONG_TO_AREA 					VARCHAR(16)	  NULL,	 	 --区域
    TRUCK_CRANE_SPECIFIC            VARCHAR(6) NOT NULL,     --汽吊型号(表码 BM_TRUCK_CRANE_SPECIFIC)
    PROJECT_PRICE             		BIGINT  NULL,            --项目单价
    TEAM_PRICE            		    BIGINT  NULL,            --班组单价
    DEL_FLAG               		CHAR(1) NOT NULL DEFAULT 1 
)


--基地仓库初始化
CREATE TABLE T_BASE_DEPOT_INIT					
(
	DEPOT_INIT_ID BIGINT IDENTITY PRIMARY KEY,
	DEPOT_ID BIGINT NOT NULL,					--仓库id
	DEPOT_NAME VARCHAR(16) NOT NULL,			--仓库名
	MNEMONICS VARCHAR(8) NOT NULL,				--助记码
	COMMODITY VARCHAR(16) NOT NULL,				--品名
	SPECIFICATIONS VARCHAR(16) NOT NULL,		--规格
	QUANTITY VARCHAR(16) NULL,					--数量
	UNIT VARCHAR(16) NULL,						--单位
	SUPPLEMENT_QUANTITY VARCHAR(16) NULL,		--辅助数量
	SUPPLEMENT_UNIT VARCHAR(16) NULL,			--辅助单位
	TOTAL VARCHAR(16) NULL						--总数
)
--项目仓库初始化
CREATE TABLE T_PROJECT_DEPOT_INIT				
(
	PROJECT_INIT_ID BIGINT IDENTITY PRIMARY KEY,
	PROJECT_ID BIGINT NOT NULL,					--项目id
	PROJECT_SERIAL VARCHAR(16) NOT NULL,		--项目编码
	PROJECT_NAME VARCHAR(32) NOT NULL,			--项目名称
	UN_CUSTOM_NAME VARCHAR(32) NULL,			--施工单位
	ADDRESS VARCHAR(128) NULL,					--地址
	TOTAL VARCHAR(16) NULL,						--库存
	INIT_DATE VARCHAR(16) NULL					--初始日期
)

--仓库初始化/库位库存
CREATE TABLE T_BASE_DEPOT_INIT_DETAIL
(
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	DEPOT_INIT_ID BIGINT NOT NULL,				--仓库初始化id
	LOCATION_ID BIGINT NOT NULL,				--库位id
	LOCATION_NAME VARCHAR(16) NOT NULL, 		--库位名称
	QUANTITY VARCHAR(16) NOT NULL DEFAULT 0		--库存数量
)
--项目仓库初始化/明细
CREATE TABLE T_PROJECT_DEPOT_INIT_DETAIL
(
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	PROJECT_INIT_ID BIGINT NOT NULL,
	MNEMONICS VARCHAR(32) NOT NULL,				--助记码
	COMMODITY VARCHAR(32) NOT NULL,				--品名
	SPECIFICATIONS VARCHAR(32) NOT NULL,		--规格
	UNIT VARCHAR(16) NULL,						--单位
	QUANTITY VARCHAR(16) NULL,					--期初数量
	SUPPLEMENT_UNIT VARCHAR(16) NULL,			--辅助单位
	SUPPLEMENT_QUANTITY VARCHAR(16) NULL		--辅助数量	

)

--评审合同流程中间表
CREATE TABLE T_FLOW_DEFINE_REVIEW
(
	DEFINE_ID BIGINT IDENTITY PRIMARY KEY,
	FLOW_ID BIGINT NOT NULL,					--流程ID
	NID BIGINT NOT NULL,						--节点ID
	SEQ BIGINT NOT NULL,						--节点级别
	RELATE_ID BIGINT NOT NULL,					--关联ID
	RELATE_MODULE VARCHAR(16) NOT NULL,			--关联模块
	STATE CHAR(1) NOT NULL DEFAULT 0 ,			--评审状态 （1 已评审  0未评审 
)


--附件清单/明细
CREATE TABLE T_ANNEX_DETAIL
(
   ANNEX_DETALIS_ID BIGINT IDENTITY PRIMARY KEY, 
   INIT_STATUS  VARCHAR(10) NULL,                 --状态
   COMPON_GENERIC_NAME VARCHAR(20) NULL,          --配件类别
   CALCULATE VARCHAR(10) NULL,                    --计量单位
   QUANTITY  VARCHAR(15) NULL,                    --标记数量
   COMPON_SPECIFIC  VARCHAR(10) NULL,             --设备型号
   DIMENSIONS  VARCHAR(20) NULL,                  --配件规格
   COMPON_SPECIFIC_NAME  VARCHAR(20) NULL,        --设备名称
   EQUIPVENDER   VARCHAR(20) NULL,                --生产厂家
   COMPON_CATEGORY_NAME  VARCHAR(20) NULL         --配件名称
)

--汽吊类型
CREATE TABLE BM_TRUCK_CRANE_SPECIFIC
(
  CODE        VARCHAR(6) NOT NULL PRIMARY KEY,
  VALUE       VARCHAR(64) NOT NULL
);

--汽吊型号
INSERT INTO INIT_LOAD_TABLE VALUES('truckCraneSpecific', 'BM_TRUCK_CRANE_SPECIFIC', 1, 1, 1, 'CODE', 'VALUE', 0, NULL, NULL, NULL, '汽吊型号');
INSERT INTO BM_TRUCK_CRANE_SPECIFIC VALUES('1', '汽吊1');
INSERT INTO BM_TRUCK_CRANE_SPECIFIC VALUES('2', '汽吊2');

--设备规格新增附加字段
Alter TABLE INIT_LOAD_TABLE ADD ALIAS_FIELD_NAME1  VARCHAR(64)  NULL  ;
Alter TABLE INIT_LOAD_TABLE ADD ALIAS_FIELD_LABLE1  VARCHAR(64)  NULL  ;
ALTER TABLE BM_EQUIP_SPECIFIC ADD DAY_RENT VARCHAR(64);  --日租
Alter TABLE INIT_LOAD_TABLE ADD ALIAS_FIELD_NAME2  VARCHAR(64)  NULL  ;
Alter TABLE INIT_LOAD_TABLE ADD ALIAS_FIELD_LABLE2  VARCHAR(64)  NULL  ;
ALTER TABLE BM_EQUIP_SPECIFIC ADD COUNT_UNIT VARCHAR(64);  --计量单位
Alter TABLE INIT_LOAD_TABLE ADD ALIAS_FIELD_NAME3  VARCHAR(64)  NULL  ;
Alter TABLE INIT_LOAD_TABLE ADD ALIAS_FIELD_LABLE3  VARCHAR(64)  NULL  ;
ALTER TABLE BM_EQUIP_SPECIFIC ADD EQUIP_TYPE VARCHAR(64);  --设备类别
update INIT_LOAD_TABLE set ALIAS_FIELD_NAME1 = 'DAY_RENT',ALIAS_FIELD_NAME2 = 'COUNT_UNIT',ALIAS_FIELD_NAME3 = 'EQUIP_TYPE',ALIAS_FIELD_LABLE1= '日租金',ALIAS_FIELD_LABLE2= '计量单位',ALIAS_FIELD_LABLE3='设备类别' where TABLE_ALIAS = 'equipSpecific';
--设备合同，增加“资产属性”，“建筑面积”字段
ALTER TABLE T_CONTRACT_LEASE ADD ASSETS_PROPERTY VARCHAR(64) NULL;
ALTER TABLE T_CONTRACT_LEASE ADD BUILDING_AREA VARCHAR(12) NULL;

--配货清单,增加   "生产产家","配件类别"
ALTER TABLE T_DISPATCH_ALLOCATE_INIT ADD EQUIPVENDER varchar(30) NULL; -- 生产产家
ALTER TABLE T_DISPATCH_ALLOCATE_INIT ADD COMPONCATEGORYNAME varchar(20) NULL; -- 配件类别
ALTER TABLE T_COMPONENT ADD TASK_ID BIGINT NULL;
ALTER TABLE T_STORE_HOUSE ADD TASK_ID BIGINT NULL;
ALTER TABLE T_COMPONENT ADD TASK_ID BIGINT NULL;

ALTER TABLE T_COMPONENT ADD MANUFACTURER VARCHAR(64) NULL;
ALTER TABLE T_COMPONENT ADD IS_MACHINE VARCHAR(64) NULL;
ALTER TABLE T_COMPONENT ADD NO_MACHINE VARCHAR(64) NULL;

--周材维修单
CREATE TABLE T_MATERIALS_REPAIR
(
	MATERIALS_REPAIR_ID  	BIGINT IDENTITY PRIMARY KEY,
	APPLYFOR_STATE			CHAR(1) NOT NULL,				--状态
	REPAIR_SERIAL			VARCHAR(64) NOT NULL,			--维修编号(生成规则，WX+年月日+2位顺序号)
	REPAIR_PERSONNEL		VARCHAR(64)  NULL,			--维修人员(可多选，员工档案)
	REPAIR_THEME			VARCHAR(64)  NULL,			--维修主题
	REPAIR_DATE				VARCHAR(16) NOT NULL,			--维修日期
	STORE_ID				BIGINT,							--仓库ID
	STORE_NAME				VARCHAR(64) NOT NULL,			--仓库名称(下拉)
	BEFORE_REPAIR_LOCATION	VARCHAR(16) NOT NULL,			--维修前库位(下拉)
	REPAIR_COST				VARCHAR(64) NOT NULL,			--维修费用(默认为0，手输)
	TEAM_NAME				VARCHAR(64) NOT NULL,			--班组名称
	TEAM_ID 				BIGINT,							--班组ID
	REPAIR_SITUATION		VARCHAR(64) NULL,				--维修情况
	REMARK					VARCHAR(256) NULL,				--备注
)

--周材维修前
CREATE TABLE T_BEFORE_MATERIALS_REPAIR
(
	BEFORE_REPAIR_ID		BIGINT IDENTITY PRIMARY KEY,
	MATERIALS_REPAIR_ID		BIGINT NOT NULL,
	MNEMONIC_CODE			VARCHAR(12) NULL,				--助记码
	COMMODITY 				VARCHAR(16) NOT NULL,			--品名
	SPECIFICATIONS 			VARCHAR(16) NOT NULL,			--规格
	MEASUREMENT_UNIT 		VARCHAR(24) NULL,				--计量单位
	QUANTITY				VARCHAR(12) NULL,				--数量
	AUXILIARY_NUM			VARCHAR(12) NULL,				--辅助数量
	STORAGE_LOCATION      	VARCHAR(16) NULL,				--出库库位(下拉，对应仓库名称所属库位)
)

--周材维修后
CREATE TABLE T_AFTER_MATERIALS_REPAIR
(
	AFTER_REPAIR_ID			BIGINT IDENTITY PRIMARY KEY,
	MATERIALS_REPAIR_ID		BIGINT NOT NULL,
	MNEMONIC_CODE			VARCHAR(12) NULL,				--助记码
	COMMODITY 				VARCHAR(16) NOT NULL,			--品名
	SPECIFICATIONS 			VARCHAR(16) NOT NULL,			--规格
	MEASUREMENT_UNIT 		VARCHAR(24) NULL,				--计量单位
	QUANTITY				VARCHAR(12) NULL,				--数量
	AUXILIARY_NUM			VARCHAR(12) NULL,				--辅助数量
	ENTER_LOCATION      	VARCHAR(16) NULL,				--入库库位(下拉，对应仓库名称所属库位)
)

--周材规格设置增加"品名"字段
ALTER TABLE T_MATERIALS_SPECIFICATIONS ADD COMMODITY VARCHAR(24) NULL;

--T_CONSTRACT_LEASE增加字段
ALTER TABLE T_CONTRACT_LEASE ADD CONSTRACT_NO VARCHAR(64) NULL;   			--合同编号（手输）
ALTER TABLE T_CONTRACT_LEASE ADD COMPETENT_DEPARTMET VARCHAR(64) NULL;		--项目主管部门
ALTER TABLE T_CONTRACT_LEASE ADD TAX_MODE VARCHAR(16) NULL;					--计税方式
ALTER TABLE T_CONTRACT_LEASE ADD APPLICABLE_TAX_RATE NUMERIC(12,2) NULL;	--适用税率
ALTER TABLE T_CONTRACT_LEASE ADD SIGNEG_AREA VARCHAR(64) NULL;				--签订地点

--故障管理  新建T_APP_REPAIRCOST表
CREATE TABLE T_APP_REPAIRCOST
(
	REPAIRCOST_ID			BIGINT IDENTITY PRIMARY KEY,
	RELATE_ID		BIGINT  NULL, -- 关联ID
	HOURSCONTENT 				VARCHAR(128) NULL,			-- 工时内容
	MAINTENANCEHOURS 			BIGINT  NULL,			-- 维修工时
	PRICE 		BIGINT NULL,				 -- 单价
	AMOUNT				BIGINT NULL,				-- 金额
	REMARKS			VARCHAR(128) NULL,				-- 备注
)
ALTER TABLE T_CONTRACT_LEASE ADD SIGNEG_AREA VARCHAR(64) NULL;				--签订地点

--更新T_CONSTRACT_LEASE（ PROVIDED_DATE SIGNING_TIME）两个字段的长度
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN PROVIDED_DATE CHAR(32);

--仓库-配件关联表
CREATE TABLE T_STORE_JOIN_COMPONENT
(
	JOIN_ID   BIGINT IDENTITY PRIMARY KEY,
	STORE_ID		BIGINT  NULL,    --仓库ID
	COMPON_ID		BIGINT  NULL,    --配件ID
	COUNTS       	BIGINT NULL    --配件数量
)
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN SIGNING_TIME CHAR(32);

--删除周材维修单的字段“库位”
ALTER TABLE T_MATERIALS_REPAIR DROP COLUMN BEFORE_REPAIR_LOCATION;

ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN CONTRACT_THEME varchar(96) NULL;
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN SUBCONTRACT char(1) NULL;
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN FUND_TYPE char(1) NULL;
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN CONTRACT_AMOUNT numeric(12,2) NULL;
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN DEDUCT CHAR(1) NULL;
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN DEBIT_RECEIVABLE numeric(12,2) NULL;

ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN PRACTI_COUNT SMALLINT NULL;

ALTER TABLE T_CUSTOMER ADD CUSTOMER_NICK_NAME VARCHAR(32) NULL;
ALTER TABLE T_PROJECT ADD TAX_MODE VARCHAR(32) NULL;

ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN PRACTI_COUNT SMALLINT NULL;

--发货调度表添加失效字段
ALTER TABLE T_DISPATCH ADD EFFECTIVE CHAR(1) NULL;			--0.失效  1.生效

--发配件表 增加生产厂家字段
ALTER TABLE T_COMPONENT ADD COMPO_VENDER varchar(96) NULL;  --生产厂家

--删除周材制作(制作申请表)字段“仓库名称”
ALTER TABLE T_APPLY_MAKE DROP COLUMN STORE_NAME;
ALTER TABLE T_APPLY_MAKE ADD STORE_ID BIGINT NOT NULL;

--报废合同表的审批人ID设置空状态
ALTER TABLE T_SCRAP_HANDLE ALTER column APPROV_ID bigint null;  

--报废处理表的审批人ID设置空状态
ALTER TABLE T_SCRAP_CONTRACT ALTER column APPROV_ID bigint null; 

--现场装车增加字段
ALTER TABLE T_LOGISTICS_TRANSPORT ADD SHIPMENTS_THEME VARCHAR(64) NULL;  		--发货主题
ALTER TABLE T_LOGISTICS_TRANSPORT ADD DISPATCH_DATE CHAR(32) NULL;				--调度时间
ALTER TABLE T_LOGISTICS_TRANSPORT ADD RELATE_SERIAL VARCHAR(64) NULL;			--合同编号
ALTER TABLE T_LOGISTICS_TRANSPORT ADD ORIGINATOR VARCHAR(64) NULL;				--制单人
ALTER TABLE T_LOGISTICS_TRANSPORT ADD ACCEPT_USERNAME VARCHAR(32) NULL;			--审核人
ALTER TABLE T_LOGISTICS_TRANSPORT ADD ACCEPT_TIME CHAR(32) NULL;				--审核时间
ALTER TABLE T_LOGISTICS_TRANSPORT ADD APPROVE_USERNAME CHAR(32) NULL;			--审批人

ALTER TABLE T_LOGISTICS_TRANSPORT ALTER COLUMN EXPECTED_ARRIVE_DATE VARCHAR(64) NULL;  	--到达时间

ALTER TABLE T_LOGISTICS_TRANSPORT ADD APPROVE_TIME VARCHAR(32) NULL;			--审批时间

ALTER TABLE T_COMPONENT ADD STORE_NAME VARCHAR(64) NULL;  --仓库名称

ALTER TABLE T_PRACTI_CERT ADD REGISTRANT_ORGANIZATION VARCHAR(64) NULL;  --注册单位

ALTER TABLE T_PROJECT ADD DEP_ID BIGINT NULL;  --所属部门

--项目-配货清单关联表
CREATE TABLE T_PROJECT_JOIN_ANNEX
(
	JOIN_ID   BIGINT IDENTITY PRIMARY KEY,
	PROJECT_ID		BIGINT  NULL,    --项目
	DISPATCH_ALLOCATE_INIT_ID		BIGINT  NULL    --配货清单ID
)
ALTER TABLE T_LOGISTICS_TRANSPORT ADD APPROVE_TIME VARCHAR(32) NULL;			--审批时间

DROP TABLE T_APPLY_MODE;
DROP TABLE T_PRODUCT_MODE;
DROP TABLE T_MODE_HANDL;
DROP TABLE T_CONSUME_PRODUCT;

--周材制作(制作申请)
CREATE TABLE T_APPLY_MAKE(
	APPLY_MAKE_ID			BIGINT IDENTITY PRIMARY KEY,
	APPLYFOR_STATE			CHAR(1) NOT NULL,				--状态
	MAKE_SERIAL				VARCHAR(64) NOT NULL,			--制作单号
	MAKE_MAN				VARCHAR(64) NOT NULL,			--制单人
	MAKE_DATE				CHAR(10) NULL,					--制作日期
	ASSETS_PROPERTY 		VARCHAR(6) NULL,				--资产属性
	STORE_ID				BIGINT NOT NULL,				--仓库ID
	STORE_NAME 				VARCHAR(32) NOT NULL,			--仓库名称
	MAKE_THEME				VARCHAR(64) NULL,				--制作主题
	START_DATE 				CHAR(10) NULL,					--计划开始时间
	COMPLETE_DATE			CHAR(10) NULL,					--计划完成时间
	REMARK					VARCHAR(256) NULL,				--备注
	DEL_FLAG				CHAR(1) NOT NULL,				
)

--制作产品(制作申请页签)
CREATE TABLE T_PRODUCT_MAKE(
	PRODUCT_MAKE_ID			BIGINT IDENTITY PRIMARY KEY,
	APPLY_MAKE_ID			BIGINT,
	MNEMONICS 				VARCHAR(12) NULL,				--助记码
	COMMODITY_ID			BIGINT,							--品名id
	COMMODITY 				VARCHAR(16) NOT NULL,			--品名
	SPECIFICATIONS 			VARCHAR(16) NOT NULL,			--规格
	SPECIFICATIONS_ID		BIGINT NOT NULL,				--规格id
	MEASUREMENT_UNIT 		VARCHAR(24) NULL,				--计量单位
	MAKE_QUANTITY			VARCHAR(16)	NULL,				--制作数量
	SECOND_UNIT_CONVERSION  VARCHAR(32) NULL,				--制作单位
	AUXILIARY_QUANTITY  	VARCHAR(24) NULL;				--换算数量
	AUXILIARY_NUM			VARCHAR(16)	NULL,				--辅助数量	
)


exec sys.sp_rename      'T_DISPATCH_ALLOCATE_INIT.COMPON_SPECIFIC_NAME', 'EQUIP_SPECIFIC_NAME';

exec sys.sp_rename      'T_DISPATCH_ALLOCATE_INIT.COMPON_SPECIFIC', 'EQUIP_SPECIFIC';

--仓库-人员关联表
CREATE TABLE T_STORE_JOIN_USER
(
	JOIN_ID   BIGINT IDENTITY PRIMARY KEY,
	STORE_ID		BIGINT  NULL,    --仓库ID
	USER_ID		BIGINT  NULL    --人员ID
)

ALTER TABLE T_COMPONENT ADD EQUIP_VENDER VARCHAR(64) NULL;			--生产厂家
--“优惠比例”字段长度设置大些，签到时间、填报日期调整字符串长度
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN COLLECTION_RATIO VARCHAR(10) NULL;
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN PROVIDED_DATE CHAR(19);

ALTER TABLE T_EQUIPMENT_FLOW ADD VERIFY_ID BIGINT NULL

ALTER TABLE T_LOGISTICS_TRANDESTRIBUTION ADD EQUIP_VENDER VARCHAR(32) NULL; --生产厂家
ALTER TABLE T_LOGISTICS_TRANDESTRIBUTION ADD FILL_COUNTS BIGINT NULL; --装车数量
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN SIGNING_TIME CHAR(19);

--新建安装费用、汽吊费用页签表
CREATE TABLE T_INSTALL_PRICE_SET
(
  INSTALL_PRICE_ID BIGINT IDENTITY PRIMARY KEY,
	CONTRACT_ID BIGINT NOT NULL,								--合同Id
	BELONG_TO_AREA_NAME VARCHAR(16) NULL,						--区域
	EQUIP_SPECIFIC_NAME VARCHAR(16) NULL,						--设备型号
	INSTALL_DISMANTLE_TYPE_NAME VARCHAR(16) NULL,				--收费类型
	MEASUREMENT_UNIT VARCHAR(32) NULL,							--计量单位
	PROJECT_PRICE BIGINT  NULL,									--项目单价
);
CREATE TABLE T_TRUCK_CRANE_PRICE_SET
(
	TC_PRICE_ID BIGINT IDENTITY PRIMARY KEY,
  CONTRACT_ID BIGINT NOT NULL,							--合同Id
	BELONG_TO_AREA_NAME VARCHAR(16) NULL,				--区域
	TRUCK_CRANE_SPECIFIC_NAME VARCHAR(16) NULL,			--汽吊型号
	PROJECT_PRICE BIGINT  NULL,							--项目单价
);

--2017/8/11 新增字段  HONGPK
ALTER TABLE T_CONTRACT_LEASE ADD DISTRICT VARCHAR(16) NULL;  --区域

ALTER TABLE T_CONTRACT_EQUIP_BRIEF ADD EQUIP_GENERIC VARCHAR(12) NULL;			--设备名称

--2017年8月12日14:40:19 CHENZJ
--领用管理
CREATE TABLE T_RECEIVE_MANAGE	
( 
	RECEIVE_ID BIGINT IDENTITY PRIMARY KEY,
	STATUS VARCHAR(8) NOT NULL,						--状态
	RECEIVE_SERIAL VARCHAR(32) NOT NULL,		--领用编号
	USER_ID BIGINT NOT NULL,
	USER_NAME VARCHAR(16) NOT NULL,				--填报人
	RECEIVE_MAN VARCHAR(16) NOT NULL,			--领用人
	PROVIDE_DATE VARCHAR(16) NOT NULL,			--填报日期
	RECEIVE_THEME VARCHAR(128) NULL,			--领用主题
	RECEIVE_DATE VARCHAR(16) NULL,				--领用时间 
	DEPOT_ID BIGINT NULL,						--仓库id
	DEPOT_NAME VARCHAR(32) NULL,					--仓库名字
	TOTAL_AMOUNT VARCHAR(24) NULL,				--总金额	
	RECEIVE_PURPOSE VARCHAR(24) NULL,			--领用用途
	REMARK VARCHAR(256) NULL,					--备注
	APPLYFOR_STATE VARCHAR(8) NOT NULL, 		--申请状态
	DEL_FLAG VARCHAR(2) NOT NULL DEFAULT 1      --删除
);
--领用管理/明细
CREATE TABLE T_RECEIVE_MANAGE_DETAIL
(
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	RECEIVE_ID BIGINT NOT NULL,					--领用id
	MNEMONICS VARCHAR(16) NOT NULL,				--助记码
	COMMODITY VARCHAR(24) NOT NULL,				--品名
	SPECIFICATIONS VARCHAR(24) NOT NULL,		--规格
	UNIT VARCHAR (16) NULL,						--单位
	LOCATION_COUNTS VARCHAR(16) NULL,				--库存数量
	RECEIVE_COUNTS VARCHAR(16) NULL,			--领用数量
	PRICE INT NULL,								--单价
	AMOUNT VARCHAR(24) NULL,					--金额
	REMARK VARCHAR(256) NULL,					--备注
	RETURN_COUNTS VARCHAR(16) NULL,				--归还数量
	RETURN_DATE VARCHAR(16) NULL				--归还时间
);
--2017年8月12日14:40:19 CHENZJ
--丢失赔偿管理
CREATE TABLE T_LOST_COMPENSATION
(
  LOST_ID BIGINT IDENTITY PRIMARY KEY,			--丢失赔偿id
  APPLYFOR_STATE VARCHAR(8) NOT NULL,			--状态
  LOST_SERIAL VARCHAR(32) NOT NULL,				--丢失单号
  USER_ID BIGINT NOT NULL,
  USER_NAME VARCHAR(16) NOT NULL,				--制单人
  APPLY_DATE VARCHAR(16) NOT NULL,				--制单日期
  CONTRACT_ID BIGINT NOT NULL,					--合同id
  CONTRACT_SERIAL VARCHAR(32) NOT NULL,			--合同编号
  PROJECT_NAME VARCHAR(64) NULL,				--项目名称
  PA_ENT_NAME VARCHAR(64) NULL,					--承租单位
  COMPENSATION_DATE VARCHAR(24) NULL,			--丢失赔偿日期
  TOTAL_COMPENSATION VARCHAR(16) NULL,			--赔偿总额
  LOST_THEME VARCHAR(64) NULL,					--主题
  RECHECK_DATE VARCHAR(16) NULL,				--复核日期
  RECHECK_MAN VARCHAR(16) NULL,					--复核人
  CHECK_DATE VARCHAR(32) NULL,					--审核日期  
  CHECK_MAN VARCHAR(16) NULL,					--审核人
  EXPLAIN VARCHAR(128) NULL,					--丢失说明
  DEL_FLAG VARCHAR(2) NOT NULL DEFAULT 1,
  CONTRACT_NUMBER VARCHAR(64) NULL				--合同流水号
)
--丢失赔偿管理/明细
CREATE TABLE T_LOST_COMPENSATION_DETAIL
(
  DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
  LOST_ID BIGINT NOT NULL,						--丢失赔偿id
  COMMODITY VARCHAR(32) NOT NULL,				--品名
  MNEMONICS VARCHAR(16) NOT NULL,				--助记码
  SPECIFICATIONS VARCHAR(32) NOT NULL,			--规格
  UNIT VARCHAR(16) NULL,						--单位
  OWE_QUANTITY VARCHAR(8) NULL,					--欠收数量（自动引自该合同项目库存数）
  LOST_QUANTITY VARCHAR(8) NULL,				--丢失数量（手输）
  SUPPLEMENT_UNIT VARCHAR(16) NULL,				--辅助单位
  SUPPLEMENT_QUANTITY VARCHAR(16) NULL,			--辅助丢失数量（根据丢失数量和基础设置的换算系数自动计算）
  COMPENSATION_COSTS VARCHAR(16) NOT NULL,		--赔偿单价
  TOTAL_COSTS VARCHAR(16) NULL					--赔偿金额
)
--2017年8月12日14:40:19 CHENZJ
--其他业务管理（周材）
CREATE TABLE T_OTHER_BUSINESS
(
	OTHER_BUSINESS_ID BIGINT IDENTITY PRIMARY KEY,
	APPLYFOR_STATE VARCHAR(8) NOT NULL,				--状态
	USER_ID BIGINT NOT NULL,					
    USER_NAME VARCHAR(16) NOT NULL,					--制单人
	OTHER_BUSINESS_SERIAL VARCHAR(32) NOT NULL,		--单据编号
	CHARGEABLE_TIME VARCHAR(24) NOT NULL,			--收费时间
	CONTRACT_ID BIGINT NOT NULL,					--合同id
    CONTRACT_SERIAL VARCHAR(32) NOT NULL,			--合同编号
	PROJECT_NAME VARCHAR(64) NULL,			 		--项目名称
    PA_ENT_NAME VARCHAR(64) NULL,					--承租单位
	TOTAL_COSTS VARCHAR(16) NULL,					--费用合计
	BASE_DEPOT_ID BIGINT NULL,				
	BASE_DEPOT_NAME VARCHAR(32) NULL,				--基地仓库名称
	AFFILIATED_SERIAL VARCHAR(64) NULL,				--附属单号
	CONTRACT_NUMBER VARCHAR(64) NULL,				--合同流水号
	DEL_FLAG VARCHAR(2) NOT NULL DEFAULT 1
);
--其他业务管理/明细
CREATE TABLE T_OTHER_BUSINESS_DETAIL
(
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	OTHER_BUSINESS_ID BIGINT NOT NULL,
	FEES_TYPE VARCHAR(32) NULL,						--收费类型
	CALCULATION_METHOD VARCHAR(24) NULL,			--结算关系
	FEE VARCHAR(24) NULL							--结算金额
);

--2017年8月12日14:40:19 CHENZJ
--增加“计划区域”，“生成次数”字段
ALTER TABLE T_EQUIPMENT_INSPECT_SCHEMA ADD BELONG_TO_AREA VARCHAR(8) NULL;
ALTER TABLE T_EQUIPMENT_INSPECT_SCHEMA ADD CREATE_TIMES VARCHAR(8) NULL;

--其他业务管理（设备）
CREATE TABLE T_OTHER_BETS
(
	OTHER_BETS_ID BIGINT IDENTITY PRIMARY KEY,
	APPLYFOR_STATE VARCHAR(8) NOT NULL,				--状态
	USER_ID BIGINT NOT NULL,					
    USER_NAME VARCHAR(16) NOT NULL,					--制单人
	OTHER_BETS_SERIAL VARCHAR(32) NOT NULL,		--单据编号
	CHARGEABLE_TIME VARCHAR(24) NOT NULL,			--收费时间
	CONTRACT_ID BIGINT NOT NULL,					--合同id
    CONTRACT_SERIAL VARCHAR(32) NOT NULL,			--合同编号
	PROJECT_NAME VARCHAR(64) NULL,			 		--项目名称
    PA_ENT_NAME VARCHAR(64) NULL,					--承租单位
	TOTAL_COSTS VARCHAR(16) NULL,					--费用合计
	BASE_DEPOT_ID BIGINT NULL,				
	BASE_DEPOT_NAME VARCHAR(32) NULL,				--基地仓库名称
	AFFILIATED_SERIAL VARCHAR(64) NULL,				--附属单号
	CONTRACT_NUMBER VARCHAR(64) NULL,				--合同流水号
	DEL_FLAG VARCHAR(2) NOT NULL DEFAULT 1
);
CREATE TABLE T_OTHER_BETS_DETAIL
(
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	OTHER_BETS_ID BIGINT NOT NULL,
	FEES_TYPE VARCHAR(32) NULL,						--收费类型
	CALCULATION_METHOD VARCHAR(24) NULL,			--结算关系
	FEE VARCHAR(24) NULL							--结算金额
);
--2017/08/12  HONGPK
ALTER TABLE T_CONTRACT_EQUIP_BRIEF ALTER COLUMN EQUIP_CATEGORY VARCHAR(12) NULL;
ALTER TABLE T_CONTRACT_EQUIP_BRIEF ALTER COLUMN RENT_STANDARD NUMERIC(12, 2) NULL;
ALTER TABLE T_CONTRACT_EQUIP_BRIEF ALTER COLUMN MEASUREMENT VARCHAR(16) NULL;
--2017/8/14 JLH
ALTER TABLE T_CONTRACT_LEASE ADD BELONG_TO_AREA VARCHAR(32) NULL; --区域
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN CONTRACT_SERIAL BIGINT NULL; 
ALTER TABLE T_CONTRACT_ARRANGE ADD TAX_MODE_NAME VARCHAR(32) NULL; --计税方式

--2017-08-14 XNZ
--配件入库模块的附件入库
CREATE TABLE T_ATTACHMENT_STORAGE(
	ATTACHMENT_ID			BIGINT IDENTITY PRIMARY KEY,
	ROW_ID					BIGINT,
	COMPON_GENERIC			VARCHAR(20) NULL,				--配件类别
	COMPON_SPECIFIC  		VARCHAR(10) NULL,				--设备型号
	COMPO_VENDER 			VARCHAR(96) NULL,				--生产厂家
	COMPON_CATEGORY			VARCHAR(20) NULL,				--配件名称
	DIMENSIONS				VARCHAR(20) NULL,				--规格型号
	MEASUREMENT_UNIT		VARCHAR(32) NULL,				--计量单位
	PROJECT_COUNTS			VARCHAR(16) NULL,				--项目库存
	COUNTS					VARCHAR(16) NULL,				--入库数量
)

--2017-08-14 XNZ
--丢失处理模块
CREATE TABLE T_LOST_HANDLE(
	LOST_ID					BIGINT IDENTITY PRIMARY KEY,
	APPLYFOR_STATE			CHAR(1) NOT NULL,				--状态
	LOST_SERIAL				VARCHAR(64) NOT NULL,			--单据编号(合同流水号-DS+2位流水号)
	USER_ID					BIGINT,							--填报人ID
	USER_NAME				VARCHAR(64) NOT NULL,			--填报人(当前登录用户名)
	LOST_DATE				CHAR(10) NULL,					--丢损日期(默认当前日期)
	DEP_ID					VARCHAR(64) NOT NULL,			--填报部门(登录账号所属部门)
	CONTRACT_ID				BIGINT,							--设备合同ID
	CONTRACT_SERIAL			VARCHAR(64) NULL,				--合同流水号(来源设备合同)
	CONTRACT_NO				VARCHAR(64) NULL,				--合同编号(来源设备合同)
	PA_ENT_NAME				VARCHAR(32) NULL,				--承租单位(来源设备合同)
  	PB_ENT_NAME				VARCHAR(32) NULL,				--出租单位	(来源设备合同)
  	PROJECT_ID				BIGINT,							--项目ID
  	PROJECT_NAME			VARCHAR(64) NULL,				--项目名称(来源设备合同)
  	PROJECT_ADDRESS			VARCHAR(256) NULL, 				--项目地址(来源设备合同)
  	COST_TOTAL				VARCHAR(16)	NULL,				--费用合计(金额合计之和)
  	SUBSIDIARY_SERIAL		VARCHAR(64) NULL,				--附属单据号(手输)
)

--2017-08-14 XNZ
--新增丢失处理模块的丢损清单
CREATE TABLE T_LOST_DETAIL(
	LOST_DETAIL_ID			BIGINT IDENTITY PRIMARY KEY,
	LOST_ID					BIGINT,
	COMPON_ID				BIGINT,
	COMMODITY_ID			BIGINT,
	COMMODITY				VARCHAR(16) NULL,				--品名
	COMPON_SPECIFIC  		VARCHAR(10) NULL,				--设备型号
	PROJECT_ID				BIGINT,
	PROJECT_COMPON_ID		BIGINT,
	COUNTS					VARCHAR(16)	NULL,				--项目库存
	LOST_COUNTS				VARCHAR(16) NULL,				--丢失数量
	LOST_COSTS				VARCHAR(64)	NULL,				--丢失单价
	DAMAGE_COUNTS			VARCHAR(16) NULL,				--损坏数量
	DAMAGE_COSTS			VARCHAR(64) NULL,				--损坏单价
	TOTALS					VARCHAR(16) NULL,				--金额小计
	DESCRIBE				VARCHAR(256) NULL,				--描述
)
--2017/8/14 JLH
ALTER TABLE  T_CONTRACT_MATERIALS ADD	ASSETS_PROPERTY_NAME 		VARCHAR(32) NULL					
ALTER TABLE  T_CONTRACT_MATERIALS ADD	ENGINEERING_TYPE_NAME 		VARCHAR(32) NULL					
ALTER TABLE  T_CONTRACT_EQUIP_BRIEF ALTER COLUMN	CONTRACT_ID 		BIGINT NULL	;
ALTER TABLE  T_INSTALL_PRICE_SET ALTER COLUMN	CONTRACT_ID 		BIGINT NULL	;
ALTER TABLE  T_TRUCK_CRANE_PRICE_SET ALTER COLUMN	CONTRACT_ID 		BIGINT NULL	;
ALTER TABLE T_PROJECT  ADD CONTRACTED VARCHAR(32) NULL --是否做过合同  0未  1是
ALTER TABLE  T_CONTRACT_MATERIALS ADD	BELONG_TO_AREA_NAME 		VARCHAR(32) NULL					

--2017/8/14  HONGPK   现场安装增加三个字段
ALTER TABLE T_EQUIPMENT_INSTALL ADD BELONG_TO_AREA VARCHAR(32) NULL; --区域
ALTER TABLE T_EQUIPMENT_INSTALL ADD CONTRACT_SERIAL VARCHAR(32) NULL; --合同编号
ALTER TABLE T_EQUIPMENT_INSTALL ADD EQUIPMENT_NO VARCHAR(32) NULL; --设备自编号

--2017/8/15 JLH
ALTER TABLE T_DISPATCH ALTER COLUMN AUTOCRANE_AMOUNT numeric(12, 2) NULL;
ALTER TABLE T_DISPATCH ALTER COLUMN RELATE_SERIAL VARCHAR(64) NULL;			--合同编号
ALTER TABLE T_DISPATCH ALTER COLUMN RELATE_THEME VARCHAR(64) NULL;			--主题
ALTER TABLE T_DISPATCH ALTER COLUMN START_PLAN_DATE VARCHAR(64) NULL;			
ALTER TABLE T_LOGISTICS_TRANDETAIL ALTER COLUMN DISPATCH_SERIAL VARCHAR(64) NULL;			
ALTER TABLE T_LOGISTICS_TRANDETAIL ALTER COLUMN DISPATCH_THEME VARCHAR(64) NULL;			
ALTER TABLE T_LOGISTICS_TRANDETAIL ALTER COLUMN DISPATCH_SERIAL VARCHAR(64) NULL;	
ALTER TABLE T_LOGISTICS_TRANSPORT ALTER COLUMN REMAINDER_AMOUNT VARCHAR(64) NULL;
ALTER TABLE T_LOGISTICS_TRANSPORT ALTER COLUMN TRANSPORT_AMOUNT VARCHAR(64) NULL;



--2017/8/16  jlh

UPDATE BM_FLOW_TYPE SET CODE = 1 WHERE VALUE = '病假' 
UPDATE BM_FLOW_TYPE SET CODE = 2 WHERE VALUE = '出差' 
UPDATE BM_FLOW_TYPE SET CODE = 3 WHERE VALUE = '年休假' 
UPDATE BM_FLOW_TYPE SET CODE = 4 WHERE VALUE = '其他假' 
UPDATE BM_FLOW_TYPE SET CODE = 5 WHERE VALUE = '事假' 
UPDATE BM_FLOW_TYPE SET CODE = 6 WHERE VALUE = '探亲假' 


UPDATE T_DISPATCH SET EFFECTIVE = 1


--2017/8/15 HONGPK 现场安装增加4个页签表
--安装费用表
CREATE TABLE T_INSTALL_FEE
(
  	INSTALL_FEE_ID BIGINT IDENTITY PRIMARY KEY, 
	INSTALL_ID BIGINT NOT NULL,
  	EQUIP_SPECIFIC_NAME VARCHAR(10) NULL,
  	FEES_TYPE VARCHAR(32) NULL,
	UNIT VARCHAR(32) NULL,
	NUMBER SMALLINT NULL,
	PROJECT_PRICE NUMERIC(12, 2) NULL,
	CHARGES_SUBTOTAL NUMERIC(12, 2) NULL,
	START_TIME CHAR(10) NULL
);
--汽吊费用表
CREATE TABLE T_AUTOCRANE_FEE
(
  	AUTOCRANE_FEE_ID BIGINT IDENTITY PRIMARY KEY,
	INSTALL_ID BIGINT NOT NULL,
	TRUCK_CRANE_SPECIFIC VARCHAR(64) NULL,
	NUMBER SMALLINT NULL,
	MACHINE_TEAM SMALLINT NULL,
	PROJECT_PRICE NUMERIC(12, 2) NULL,
	CHARGES_SUBTOTAL NUMERIC(12, 2) NULL,
	START_TIME CHAR(10) NULL
);
--安拆班组表
CREATE TABLE T_INSTALL_DISMANTEL_TEAM
(
  	INSTALL_DISMANTEL_TEAM_ID BIGINT IDENTITY PRIMARY KEY,
	INSTALL_ID BIGINT NOT NULL,
	EQUIP_SPECIFIC_NAME VARCHAR(64) NULL,
	FEES_TYPE VARCHAR(32) NULL,
	UNIT VARCHAR(32) NULL,
	NUMBER SMALLINT NULL,
	INS_DIS_TEAM VARCHAR(32) NULL,
	TEAM_PRICE NUMERIC(12, 2) NULL,
	CHARGES_SUBTOTAL NUMERIC(12, 2) NULL,
	START_TIME CHAR(10) NULL,
	REMARK VARCHAR(256) NULL
);
--汽吊单位表
CREATE TABLE T_AUTOCRANE_UNIT
(
  	AUTOCRANE_UNIT_ID BIGINT IDENTITY PRIMARY KEY,
	INSTALL_ID BIGINT NOT NULL,
	TRUCK_CRANE_SPECIFIC VARCHAR(64) NULL,
	NUMBER SMALLINT NULL,
	MACHINE_TEAM SMALLINT NULL,
	AUTOCRANE_UNIT VARCHAR(32) NULL,
	TEAM_PRICE NUMERIC(12, 2) NULL,
	CHARGES_SUBTOTAL NUMERIC(12, 2) NULL,
	START_TIME CHAR(10) NULL,
	REMARK VARCHAR(256) NULL
);
--****************************************************************
--2017/8/17  JLH
ALTER TABLE T_EQUIPMENT_INSTALL  ADD CONTRACT_SERIAL VARCHAR(32) NULL;
ALTER TABLE T_DISPATCH ALTER COLUMN PROVIDED_DATE VARCHAR(64) NULL;
ALTER TABLE T_DISPATCH ADD  CONTRACT_ID BIGINT NULL;
ALTER TABLE T_EQUIPMENT_INSTALL ADD  EXW_DATE VARCHAR(64) NULL;
ALTER TABLE T_EQUIPMENT_INSTALL ADD  EQUIP_VENDER VARCHAR(64) NULL;
ALTER TABLE T_EQUIPMENT_INSTALL ALTER COLUMN  PRACTI_COUNT VARCHAR(64) NULL;
ALTER TABLE T_INSTALL_DISMANTEL_TEAM ADD  FEES_TYPE VARCHAR(32)
ALTER TABLE T_INSTALL_FEE ADD  INSTALL_FEE_TYPE VARCHAR(32)
ALTER TABLE T_INSTALL_FEE ADD  FEES_TYPE_NAME VARCHAR(32)

ALTER TABLE T_LOGISTICS_TRANSPORT ALTER COLUMN DELIVERY_DATE VARCHAR(64) NULL;  
ALTER TABLE T_EQUIPMENT_INSTALL ALTER COLUMN  PRACTI_COUNT VARCHAR(64) NULL;

--2017/8/18 HPK
ALTER TABLE T_LOGISTICS_TRANSPORT ADD LICENSE_PLATE VARCHAR(16) NULL;
ALTER TABLE T_LOGISTICS_TRANSPORT ADD DRIVER VARCHAR(64) NULL;
ALTER TABLE T_LOGISTICS_TRANSPORT ADD DRIVER_PHONE VARCHAR(16) NULL;


--2017/8/19 
ALTER TABLE T_CONTRACT_EQUIP_BRIEF ADD EQUIP_SPECIFIC VARCHAR(32) NULL;
ALTER TABLE T_EQUIPMENT_ACTIVATE ADD MEASUREMENT VARCHAR(32) NULL;
ALTER TABLE T_EQUIPMENT_ACTIVATE ADD RENT_STANDARD VARCHAR(32) NULL;
ALTER TABLE T_EQUIPMENT_ACTIVATE ALTER COLUMN ACTIVATE_DATE VARCHAR(32) NULL;

ALTER TABLE T_LOGISTICS_TRANDESTRIBUTION ADD DIS_ALL_INIT_ID BIGINT NULL;
ALTER TABLE T_INSTALL_DISMANTEL_TEAM ADD FEES_TYPE_NAME VARCHAR(32) NULL;

ALTER TABLE T_PROJECT_JOIN_ANNEX ADD COUNTS BIGINT NULL DEFAULT 0 ;
ALTER TABLE T_LOGISTICS_TRANSPORT ADD SHIPMENTS_THEME VARCHAR(128) ;
ALTER TABLE T_PROJECT_JOIN_ANNEX ADD COUNTS BIGINT NULL DEFAULT 0 ;

--现场拆卸 2017年8月19日22:07:12 CHENZJ
ALTER TABLE T_EQUIPMENT_DISMANTLE ADD PERSON_NUM varchar(8) NULL;

ALTER TABLE T_INSTALL_FEE ADD RELATE_MODULE VARCHAR(24) NULL;
ALTER TABLE T_INSTALL_FEE ADD RELATE_SERIAL VARCHAR(64) NULL;
sp_rename 'T_INSTALL_FEE.INSTALL_ID','RELATE_ID';

ALTER TABLE T_AUTOCRANE_FEE ADD RELATE_MODULE VARCHAR(24) NULL;
ALTER TABLE T_AUTOCRANE_FEE ADD RELATE_SERIAL VARCHAR(64) NULL;
sp_rename 'T_AUTOCRANE_FEE.INSTALL_ID','RELATE_ID';

ALTER TABLE T_INSTALL_DISMANTEL_TEAM ADD RELATE_MODULE VARCHAR(24) NULL;
ALTER TABLE T_INSTALL_DISMANTEL_TEAM ADD RELATE_SERIAL VARCHAR(64) NULL;
sp_rename 'T_INSTALL_DISMANTEL_TEAM.INSTALL_ID','RELATE_ID';

ALTER TABLE T_AUTOCRANE_UNIT ADD RELATE_MODULE VARCHAR(24) NULL;
ALTER TABLE T_AUTOCRANE_UNIT ADD RELATE_SERIAL VARCHAR(64) NULL;
sp_rename 'T_AUTOCRANE_UNIT.INSTALL_ID','RELATE_ID';


--回收管理  2017-8-20 CHENZJ
CREATE TABLE T_RECYCLE_MANAGE 
(
	RECYCLE_ID BIGINT IDENTITY PRIMARY KEY,
	APPLYFOR_STATE VARCHAR(8) NOT NULL,				--状态
	RECYCLE_SERIAL VARCHAR(64) NOT NULL,			--回收单号
	DEPOT_ID BIGINT NOT NULL,						--仓库id
	USER_ID BIGINT NOT NULL,
	USER_NAME VARCHAR(24) NOT NULL,					--制单人
	APPLY_DATE VARCHAR(32) NOT NULL,				--制单日期（默认当前日期，不可修改）
	CONTRACT_ID BIGINT NOT NULL,					--合同id
	RECYCLE_DATE VARCHAR(32) NOT NULL,				--回收日期
	RECYCLE_TYPE VARCHAR(24) NOT NULL,				--回收类型
	AFFILIATED_SERIAL VARCHAR(64) NULL,				--附属单号（手输）
	TRANSPORT_NUMBER VARCHAR(32) NULL,				--运输车辆号
	TRANSPORT_MAN VARCHAR(32) NULL,					--运输车辆人员（根据车辆档案获取，也可以手工输入）
	HANDING_CHARGE VARCHAR(16) NULL,				--装卸费用（合计）
	DAMAGE VARCHAR(16) NULL,						--损坏赔偿金额（合计）
	SEND_RECEIVE_MAN VARCHAR(16) NULL,				--收发审核人员
	SEND_RECEIVE_DATE VARCHAR(32) NULL,				--收发审核时间
	INVOICE_CHECK_MAN VARCHAR(16) NULL,				--单据审核人员
	INVOICE_CHECK_DATE VARCHAR(32) NULL,			--单据审核时间（年月日时分，默认系统时间，不可修改）
	REMARK VARCHAR(128) NULL, 						--备注
	DEL_FLAG VARCHAR(4) NOT NULL 
)
--回收管理-回收清单
CREATE TABLE T_RECYCLE_MANAGE_DETAIL
(
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	RECYCLE_ID BIGINT NOT NULL,						--回收id
	MNEMONICS VARCHAR(16) NOT NULL,					--助记码
	COMMODITY VARCHAR(24) NOT NULL,					--品名
	SPECIFICATIONS VARCHAR(64) NOT NULL,			--规格
	UNIT VARCHAR(16) NULL,							--单位
	INPUT_COUNT VARCHAR(16) NULL,					--入库数量
	TRUCK_LOADING_COUNT VARCHAR(16) NULL,			--装车数量
	PACKAGE_COUNT VARCHAR(16) NULL,					--包装数量
	SUPPLEMENT_UNIT VARCHAR(16) NULL,				--辅助单位
	SUPPLEMENT_QUANTITY VARCHAR(16) NULL,			--辅助数量
	REMARK VARCHAR(128) NULL						--备注
)
--回收管理-费用处理
CREATE TABLE T_RECYCLE_MANAGE_FEE
(
	FEE_ID BIGINT IDENTITY PRIMARY KEY,
	RECYCLE_ID BIGINT NOT NULL,
	COMMODITY VARCHAR(16) NOT NULL,					--品名
	CHARGE_TYPE VARCHAR(16) NOT NULL,				--收费类型
	CHARGE_PRICE VARCHAR(16) NULL,					--收费单价
	CHARGE_QUANTITY VARCHAR(16) NULL,				--收费数量
	CHARGE_AMOUNT VARCHAR(24) NULL,					--收费金额
	CHARGE_WAY VARCHAR(16) NULL						--收费方式
)

--删改字段  2017-8-20 CHENZJ
sp_rename 'T_OTHER_BUSINESS.BASE_DEPOT_ID','DEPOT_ID';
ALTER TABLE T_OTHER_BETS DROP COLUMN BASE_DEPOT_NAME;
ALTER TABLE T_OTHER_BETS DROP COLUMN BASE_DEPOT_ID;
ALTER TABLE T_OTHER_BUSINESS DROP COLUMN BASE_DEPOT_NAME;

--表码表“回收类型”   2017-8-20 CHENZJ
CREATE TABLE BM_RECYCLE_TYPE
(
  CODE        VARCHAR(6) NOT NULL PRIMARY KEY,
  VALUE       VARCHAR(64) NOT NULL
);
INSERT INTO INIT_LOAD_TABLE VALUES('recycleType', 'BM_RECYCLE_TYPE', 1, 1, 1, 'CODE', 'VALUE', 0, NULL, NULL, NULL, '回收类型',NULL, NULL, NULL,NULL, NULL, NULL);


ALTER TABLE T_COMPONENT_DIARY ADD EQUIP_VENDER VARCHAR(16) NULL;

--2017/8/20 XNZ		巡检管理增加“设备自编号”字段
ALTER TABLE T_EQUIPMENT_INSPECT ADD EQUIP_SERIAL VARCHAR(64) NULL;--设备自编号

--2017/8/21 XNZ
--巡检管理增加巡检费用页签
CREATE TABLE T_COST_INSPECT(
	COST_INSPECT_ID			BIGINT IDENTITY PRIMARY KEY,
	INSPECT_ID				BIGINT,
	DEP_NAME				VARCHAR(64),						--巡检班组(来源组织架构)
	WORK_CONTENT			VARCHAR(64),						--工时内容
	HOURS_INSPECT			VARCHAR(12),						--巡检工时
	PRICE					VARCHAR(12),						--单价
	AMOUNT					VARCHAR(64),						--金额
	REMARK					VARCHAR(128),						--备注
)

--2017/8/21 xnz 启用管理的合同流水号字段修改为合同编号
ALTER TABLE T_EQUIPMENT_ACTIVATE DROP COLUMN CONTRACT_SERIAL;

ALTER TABLE T_EQUIPMENT_ACTIVATE ADD CONTRACT_NO VARCHAR(64) NULL;

--2017-8-24 jlh
ALTER TABLE T_EQUIPMENT_WAREHOUSE ADD VEHICLE_NUM VARCHAR(64) NULL;
ALTER TABLE T_EQUIPMENT_WAREHOUSE ADD VEHICLE_PERSON VARCHAR(64) NULL;
ALTER TABLE T_EQUIPMENT_WAREHOUSE_COMPON ADD EQUIP_VENDER_NAME VARCHAR(64) NULL;
ALTER TABLE T_ATTACHMENT_STORAGE  ADD DIS_ALL_INIT_ID BIGINT NULL;

--2017/8/23 XNZ 在启用管理增加字段"发货仓库","验收日期"
ALTER TABLE T_EQUIPMENT_ACTIVATE ADD DELIVERY_ENT_NAME VARCHAR(64) NULL;--发货仓库
ALTER TABLE T_EQUIPMENT_ACTIVATE ADD VERIFY_DATE CHAR(10) NULL;--验收日期

--2017-8-24 CHENZJ 现场拆卸增加字段
ALTER TABLE T_EQUIPMENT_DISMANTLE ADD INSTALL_ID BIGINT;


--2017/8/25 jlh
sp_rename 'T_LOST_DETAIL.COMPONEN_ID','COMPON_ID';

ALTER TABLE T_EQUIPMENT_WAREHOUSE ALTER COLUMN PROVIDED_DATE  VARCHAR(32) NULL
ALTER TABLE T_EQUIPMENT_WAREHOUSE ADD RECEIVE_MAN  VARCHAR(32) NULL
ALTER TABLE T_EQUIPMENT_WAREHOUSE ADD RECEIVE_MAN_ID  BIGINT NULL
ALTER TABLE T_EQUIPMENT_WAREHOUSE ADD ATTACH_SERIAL  VARCHAR(64) NULL
 
--2017-8-29 18:18:07  仓库维修    CHENZJ
ALTER TABLE T_EQUIPMENT_REPAIR add TEAM_ID BIGINT;
ALTER TABLE T_EQUIPMENT_REPAIR ADD TEAM_NAME VARCHAR(24) NULL;

--2017-8-30 18:30:56  配件入库   	CHENZJ
ALTER TABLE T_COMPON_INTOSTORE ADD RECEIVE_MAN_ID BIGINT;
ALTER TABLE T_COMPON_INTOSTORE ADD RECEIVE_MAN VARCHAR(16) NULL;
ALTER TABLE T_COMPON_INTOSTORE ADD CONTRACT_NO VARCHAR(32) NULL;

--2017-8-31 14:11:15 仓库维修页签 CHENZJ
ALTER TABLE T_EQUIPMENT_REPAIR_LOCATION ADD REPAIR_TEAM VARCHAR(64) NULL;
ALTER TABLE T_EQUIPMENT_REPAIR_COMPON ADD FAULT_LOCATION VARCHAR(16) NULL;
ALTER TABLE T_EQUIPMENT_REPAIR_COMPON ADD UNIT VARCHAR(8) NULL;
ALTER TABLE T_EQUIPMENT_REPAIR_COMPON ADD COMPON_GENERIC_NAME VARCHAR(16) NULL;
ALTER TABLE T_EQUIPMENT_REPAIR_COMPON ADD COMPON_SPECIFIC_NAME VARCHAR(16) NULL;
ALTER TABLE T_EQUIPMENT_REPAIR ADD TEAM_NAME VARCHAR(24) NULL;

--2017-8-31  验收管理 增加生效字段  ZHD
ALTER TABLE T_EQUIPMENT_VERIFY ADD EFFECTIVE CHAR(1) NOT NULL DEFAULT 0;

--jlh 2017-9-6 项目结算
CREATE TABLE T_SETTLE_PROJECT
(
	SETTLE_ID BIGINT IDENTITY 	PRIMARY KEY,
	SETTLE_SERIAL 				VARCHAR(64) NULL,			--结算编号
	SETTLE_MAN 					VARCHAR(64) NOT NULL,		--结算人员
	SETTLE_DATE 				VARCHAR(32) NULL,			--结算日期
	SETTLE_TITLE 				VARCHAR(64) NULL,			--结算主题
	START_DATE 					VARCHAR(32) NULL,			--开始日期
	END_DATE 					VARCHAR(32)	NULL,			--结束日期
	CONTRACT_SERIAL             VARCHAR(64) NOT NULL,       --合同编号(HT-+YYYYMMDD+00)
	CONTRACT_CATEGORY			VARCHAR(16) NULL,			--合同类别
	PROJECT_NAME                VARCHAR(64) NULL,           --项目名称
	TAX_MODE 					VARCHAR(16) NULL,			--计税方式
	TAX_MODE_NAME 				VARCHAR(32) NULL,			--计税方式
	TAX_RATE                    NUMERIC(12, 2) NULL,        --适用税率(输入，参与租金计算)
	RENTAL_RATE					NUMERIC(12, 2) NULL,		--租金优惠比例(输入，参与租金计算)
	RENTAL_PRICE				NUMERIC(12, 2) NULL,		--优惠金额
	DEP_ID                      BIGINT  NULL,            --所属主管部门
	DEP_NAME                    VARCHAR(16) NULL,            --所属主管部门
	INITIAL_SETTLE_AMOUNT		NUMERIC(12, 2) NULL,        --期初结算金额
	CURRENT_SETTLE_AMOUNT		NUMERIC(12, 2) NULL,        --本期结算金额
	TOTAL_SETTLE_AMOUNT			NUMERIC(12, 2) NULL,      	--本期结算金额
	BACK_OFF					CHAR(1)    DEFAULT 0,        -- 倒扣租借
	CONTRACT_ID					 BIGINT NOT NULL,          --合同ID
	
)


--2017-9-8  丢失处理 添加“丢失描述”  ZHD  
ALTER TABLE T_LOST_DETAIL ADD LOSE_DESCRIBE VARCHAR(64) NULL;
--2017-9-13 周转材料摊销初始化 删除字段 ZHD
ALTER TABLE T_AMORTIZATION_INITIALIZATION DROP COLUMN COMMODITY_ID

--2017/09/12 xnz 周材合同增加2个字段
ALTER TABLE T_CONTRACT_MATERIALS ADD ASSETS_PROPERTY VARCHAR(32) NULL;
ALTER TABLE T_CONTRACT_MATERIALS ADD DEL_FLAG CHAR(1) NULL;


--租借申请	Chen·G·Y 2017/08/10
CREATE TABLE T_LEASE_APPLICATION(
	APPLICATION_ID	BIGINT IDENTITY PRIMARY KEY,
	APPLICATION_SERIAL	VARCHAR(64)	NULL,		--申请编号
	USER_ID		BIGINT	NOT NULL,
	USER_NAME	VARCHAR(24)	NULL,				--申报人
	LEASE_THEME		VARCHAR(24)	NULL,			--租借主题
	FILL_DATE	CHAR(19) NULL,					--申请日期
	PROJECT_ID	BIGINT NOT NULL,				--项目名称
	ASSETS_PROPERTY	VARCHAR(24)	NULL,			--资产属性
	APPLYING_UNIT	VARCHAR(24)	NULL,			--申请单位
	TAX_RATE	VARCHAR(24)	NULL,				--税率
	PAYMENT_METHOD	VARCHAR(24)	NULL,			--付款方式
	SUPPLIERS	VARCHAR(24)	NULL,				--供应单位
	APPROACH_DATE	CHAR(19) NULL,				--进场时间
	MANUFACTURER	VARCHAR(24)	NULL,			--生产厂家 
	OTHER_REQUIREMENTS	VARCHAR(128) NULL,		--质量及其他要求
	STATUS	CHAR(1) NOT NULL					--状态
)
--申请清单(租借申请子表)	Chen·G·Y 2017/08/10
CREATE TABLE T_LEASE_LIST(
	LIST_ID	BIGINT IDENTITY PRIMARY KEY,
	APPLICATION_ID	BIGINT NULL,
	SPECIFICATIONS_ID	BIGINT	NOT	NULL,		--周材规格ID
	COMMODITY_ID	BIGINT	NOT	NULL,			--周材大类ID
	COMMODITY 	VARCHAR(64) NOT NULL,			--周材品名
	MNEMONICS	VARCHAR(64) NULL,				--周材编号
	SPECIFICATIONS VARCHAR(64) NULL,			--规格型号
	MEASUREMENT_UNIT VARCHAR(24) NULL,			--计量单位
	QUANTITY	VARCHAR(24)	NULL,				--数量
	TAX_UNIT_PRICE	VARCHAR(24)	NULL,			--含税单价	
	ESTIMATED_AMOUNT	VARCHAR(24)	NULL,		--预计金额
)
--租借合同	Chen·G·Y 2017/08/15
CREATE TABLE T_LEASE_CONTRACT(
	LEASE_ID	BIGINT IDENTITY PRIMARY KEY,
	LEASE_SERIAL	VARCHAR(64)	NULL,			--流水号
	LEASE_IDENTIFIER	VARCHAR(64)	NULL,		--合同编号
	LEASE_THEME		VARCHAR(64)	NULL,			--合同主题
	USER_ID		BIGINT NOT	NULL,				--填报人ID
	USER_NAME	VARCHAR(24) NOT	NULL,			--填报人
	FILL_DATE	CHAR(19) NOT NULL,				--填报日期
	CONTRACT_ID	BIGINT NOT	NULL,				--周材合同ID
	PROJECT_ID	BIGINT NOT	NULL,				--项目
	LESSEE_UNIT	VARCHAR(64)	NULL,				--承租单位
	USE_UNIT	VARCHAR(64)	NULL,				--使用单位
	DEP_ID	BIGINT NOT NULL,					--管理部门ID
	DEP_NAME	VARCHAR(64)	NULL,				--管理部门
	LEASE_UNIT	VARCHAR(64)	NULL,				--租借单位
	LEASE_UNIT_ADDRESS	VARCHAR(64)	NULL,		--单位地址
	LEASE_UNIT_LINK	VARCHAR(64)	NULL,			--联系方式
	SIGNING_DATE	CHAR(10)	NULL,			--签订日期
	ACCOUNTING_METHOD	VARCHAR(24)	NULL,		--计费方式
	TAX_METHOD	VARCHAR(24)	NULL,				--计税方式
	TAX_RATE	VARCHAR(24)	NULL,				--适用税率
	DISCOUNT_RENTAL_RATE	VARCHAR(24)	NULL,	--租金优惠比例
	DISCOUNT	VARCHAR(24)	NULL,				--折扣
	FREIGHT	VARCHAR(24)	NULL,					--运费
	CONTRACT_AMOUNT	VARCHAR(24)	NULL,			--合同金额
	SETTLEMENT_AMOUNT	VARCHAR(24)	NULL,		--已结算金额
	AMOUNT_RECEIVED	VARCHAR(24)	NULL,			--已收款金额
	AUTHORIZED_AMOUNT	VARCHAR(24)	NULL,		--审定金额
	STATUS	CHAR(1)	NOT	NULL,					--状态
	REMARKS	VARCHAR(128) NULL					--备注
)
--租借清单(租借合同子表)	Chen·G·Y 2017/08/15
CREATE TABLE T_LEASE_MATERIALS_INVENTORY (
	INVENTORY_ID	BIGINT IDENTITY PRIMARY KEY,
	LEASE_ID	BIGINT	NULL,					--租借合同ID
	COMMODITY_ID	BIGINT	NOT	NULL,			--周材ID
	COMMODITY	VARCHAR(64) NOT NULL,			--品名
	MEASUREMENT_UNIT	VARCHAR(12) NULL,		--计量单位
	DAILY_RENT VARCHAR(24) NULL,				--日租金
	PLANNED_LEASE_QUANTITY	VARCHAR(24) NULL	--计划租借数量
)
--价格设定(租借合同子表)	Chen·G·Y 2017/08/15
CREATE TABLE T_LEASE_PRICE_SETTING (
	PRICE_ID	BIGINT IDENTITY PRIMARY KEY,
	LEASE_ID	BIGINT	NULL,					--租借合同ID
	SPECIFICATIONS_ID	BIGINT	NOT	NULL,		--周材规格ID
	COMMODITY_ID	BIGINT	NOT	NULL,			--周材大类ID
	COMMODITY VARCHAR(64) NOT NULL,				--周材品名
	SPECIFICATIONS VARCHAR(64) NULL,			--规格型号
	MEASUREMENT_UNIT VARCHAR(24) NULL,			--计量单位
	DAILY_RENT VARCHAR(24) NULL,				--日租金
	COMPENSATION_COSTS VARCHAR(12)				--丢失赔偿单价
)
--损坏赔偿(租借合同子表)	Chen·G·Y 2017/08/15
CREATE TABLE T_LEASE_SPOILED_INDEMNITY (
	SPOILED_ID	BIGINT IDENTITY PRIMARY KEY,
	LEASE_ID	BIGINT	NULL,					--租借合同ID
	DAMAGE_ID	BIGINT	NOT	NULL,				--损坏赔偿ID
	COMMODITY_ID	BIGINT	NOT	NULL,			--周材大类ID
	COMMODITY VARCHAR(64) NOT NULL,				--周材品名
	DAMAGE_TYPE VARCHAR(24) NULL,				--损坏类型
	MEASUREMENT_UNIT VARCHAR(24) NULL,			--计量单位
	DAMAGE_UNIT_PRICE VARCHAR(24) NULL			--损坏单价
)
--报废赔偿(租借合同子表)	Chen·G·Y 2017/11/15
CREATE TABLE T_LEASE_SCRAP_COMPENSATION (
	COMPENSATION_ID	BIGINT IDENTITY PRIMARY KEY,
	LEASE_ID	BIGINT	NULL,					--租借合同ID
	SCRAP_ID	BIGINT	NOT	NULL,				--报废赔偿ID	
	COMMODITY_ID	BIGINT	NOT	NULL,			--周材大类ID
	COMMODITY	VARCHAR(24) NULL,				--周材品名
	SCRAP_TYPE	VARCHAR(24) NULL,				--报废类型
	SCRAP_UNIT_PRICE	VARCHAR(24) NULL,		--报废单价
	MEASUREMENT_UNIT	VARCHAR(24) NULL		--计量单位
)
--费用处理(租借合同子表)	Chen·G·Y 2017/08/15
CREATE TABLE T_LEASE_EXPENSE_HANDLING (
	EXPENSE_ID	BIGINT IDENTITY PRIMARY KEY,
	LEASE_ID	BIGINT	NULL,					--租借合同ID
	FEE_ID	BIGINT	NOT	NULL,					--损坏赔偿ID
	COMMODITY_ID	BIGINT	NOT	NULL,			--周材大类ID
	COMMODITY	VARCHAR(24) NULL,				--周材品名
	FEES_TYPE VARCHAR(24) NULL,					--收费类型
	MEASUREMENT_UNIT VARCHAR(24) NULL,			--计量单位
	THEORIES_VALUE_CONVERSION VARCHAR(12) NULL,	--换算数值
	UNIT_CONVERSION VARCHAR(12) NULL,			--换算单位
	CHARGE_UNIT_PRICE VARCHAR(24) NULL			--收费单价
)
--周材租借记录表	Chen·G·Y 2017/11/21
CREATE TABLE T_LEASE_MATERIALS_RECORD(
	RECORD_ID	BIGINT IDENTITY PRIMARY KEY,
	LEASE_ID	BIGINT	NOT	NULL,				--租借合同ID
	SPECIFICATIONS_ID	BIGINT	NOT	NULL		--周材规格ID
)
--收货管理	Chen·G·Y 2017/08/20
CREATE TABLE T_GOODS_RECIPIENT(
	RECIPIENT_ID	BIGINT IDENTITY PRIMARY KEY,
	RECIPIENT_SERIAL	VARCHAR(64)	NULL,		--收货单号
	RECIPIENT_THEME	VARCHAR(64)	NULL,			--收货主题
	USER_ID		BIGINT NOT	NULL,				--填报人ID
	USER_NAME	VARCHAR(64)	NULL,				--填报人
	FILL_DATE	CHAR(19)	NULL,				--填报日期
	DEPOT_ID	BIGINT NOT	NULL,				--周材仓库ID
	DEPOT_NAME	VARCHAR(36) NULL,				--周材仓库名称
	LOCATION_ID	BIGINT NOT	NULL,				--出库库位ID
	LOCATION_NAME VARCHAR(36) NULL,				--出库库位
	LEASE_ID	BIGINT 	NULL,					--租借合同ID
	LEASE_UNIT	VARCHAR(64)	NULL,				--租借单位
	LESSEE_UNIT	VARCHAR(64)	NULL,				--承租单位
	PROJECT_ID	BIGINT	NULL,					--项目名称
	SUBSIDIARY_SERIAL	VARCHAR(64)	NULL,		--附属单据号
	DELIVERY_DATE	CHAR(10) NULL,				--发货日期
	RENT_TYPE	VARCHAR(24) NOT NULL,			--出租类型
	TRANSPORT_VEHICLE	VARCHAR(36)	NULL,		--运输车辆
	TRANSPORT_PERSONNEL	VARCHAR(36)	NULL,		--运输人员
	AUDITOR	VARCHAR(36)	NULL,					--审核人
	APPROVE_DATE	CHAR(19) NULL,				--审核时间
	SUBSIDIARY_AUDITOR	VARCHAR(36)	NULL,		--单据审核人
	SUBSIDIARY_APPROVE_DATE	CHAR(19) NULL,		--单据审核时间
	REMARKS	VARCHAR(128) NULL,					--备注	
	STATUS	CHAR(1)	NOT NULL					--状态
)
--出租类型	Chen·G·Y 2017/10/24
CREATE TABLE BM_RENT_TYPE(
  CODE        VARCHAR(6) NOT NULL PRIMARY KEY,
  VALUE       VARCHAR(64) NOT NULL
);
INSERT INTO INIT_LOAD_TABLE VALUES('rentType', 'BM_RENT_TYPE', 1, 1, 1, 'CODE', 'VALUE', 0, NULL, NULL, NULL, '出租类型',NULL, NULL, NULL,NULL, NULL, NULL);

--收货清单(收货管理子表)	Chen·G·Y 2017/08/20
CREATE TABLE T_RECIPIENT_LIST(
	LIST_ID	BIGINT IDENTITY PRIMARY KEY,
	RECIPIENT_ID	BIGINT NULL,
	SPECIFICATIONS_ID	BIGINT	NOT	NULL,		--周材规格ID
	COMMODITY_ID	BIGINT	NOT	NULL,			--周材大类ID
	MNEMONICS	VARCHAR(24) NULL,				--周材编号
	COMMODITY VARCHAR(64) NOT NULL,				--品名
	SPECIFICATIONS VARCHAR(64) NOT NULL,		--周材规格
	MEASUREMENT_UNIT VARCHAR(24) NULL,			--计量单位
	ASSIST_UNIT	VARCHAR(24) NULL,				--辅助单位
	ASSIST_QUANTITY	VARCHAR(12) NULL,			--辅助数量
	RECIPIENT_QUANTITY VARCHAR(12) NULL,		--收货数量
	COEFFICIENT VARCHAR(24) NULL,				--换算系数
	REMARKS	VARCHAR(64) NULL,					--备注
)
--退货管理	Chen·G·Y 2017/08/25
CREATE TABLE T_RETURN_GOODS(
	RETURN_ID	BIGINT IDENTITY PRIMARY KEY,
	RETURN_SERIAL	VARCHAR(64) NULL,			--退货单号
	RETURN_THEME	VARCHAR(64)	NULL,			--退货主题
	USER_ID		BIGINT NOT	NULL,				--填报人ID
	USER_NAME	VARCHAR(24)	NULL,				--填报人
	FILL_DATE	CHAR(19)	NULL,				--填报日期
	DEPOT_ID	BIGINT NOT	NULL,				--周材仓库ID
	DEPOT_NAME	VARCHAR(24) NULL,				--周材仓库名称
	LOCATION_ID	BIGINT NOT	NULL,				--入库库位ID
	LOCATION_NAME VARCHAR(24) NULL,				--入库库位
	LEASE_ID	BIGINT NOT	NULL,				--租借合同编号
	LEASE_UNIT	VARCHAR(64)	NULL,				--租借单位
	LESSEE_UNIT	VARCHAR(64)	NULL,				--承租单位
	PROJECT_ID	BIGINT NOT	NULL,				--项目名称
	SUBSIDIARY_SERIAL	VARCHAR(64)	NULL,		--附属单据号
	RETURN_DATE	CHAR(19) NULL,					--回收日期
	RETURN_TYPE	VARCHAR(24)	NULL,				--回收类型
	TRANSPORT_VEHICLE	VARCHAR(64)	NULL,		--运输车辆
	TRANSPORT_PERSONNEL	VARCHAR(64)	NULL,		--运输人员
	AUDITOR	VARCHAR(64)	NULL,					--审核人
	APPROVE_DATE	CHAR(19) NULL,				--审核时间
	SUBSIDIARY_AUDITOR	VARCHAR(64)	NULL,		--单据审核人
	SUBSIDIARY_APPROVE_DATE	CHAR(19) NULL,		--单据审核时间
	REMARKS	VARCHAR(128) NULL,					--备注	
	STATUS	CHAR(1)	NOT NULL					--状态
)
--退货清单(退货管理子表)
CREATE TABLE T_RETURN_LIST(
	LIST_ID	BIGINT IDENTITY PRIMARY KEY,
	RETURN_ID	BIGINT NULL,
	SPECIFICATIONS_ID	BIGINT	NOT	NULL,		--周材规格ID
	COMMODITY_ID	BIGINT	NOT	NULL,			--周材大类ID
	MNEMONICS	VARCHAR(12) NULL,				--周材编号
	COMMODITY 	VARCHAR(64) NOT NULL,			--品名
	SPECIFICATIONS 	VARCHAR(64) NOT NULL,		--周材规格
	MEASUREMENT_UNIT 	VARCHAR(12) NULL,		--计量单位
	RETURN_QUANTITY 	VARCHAR(24) NULL,		--退货数量
	ASSIST_UNIT	VARCHAR(12) NULL,				--辅助单位
	ASSIST_QUANTITY	VARCHAR(24) NULL,			--辅助数量
	COEFFICIENT 	VARCHAR(24) NULL,			--换算系数
	REMARKS	VARCHAR(64) NULL					--备注
)
--租借结算	Chen·G·Y 2017/08/30
CREATE TABLE T_LEASE_SETTLEMENT(
	SETTLEMENT_ID	BIGINT IDENTITY PRIMARY KEY,
	SETTLEMENT_SERIAL	VARCHAR(64) NULL,			--结算单号
	SETTLEMENT_THEME	VARCHAR(64)	NULL,			--结算主题
	USER_ID		BIGINT NOT	NULL,					--填报人ID
	USER_NAME	VARCHAR(64)	NULL,					--填报人
	FILL_DATE	CHAR(19)	NULL,					--填报日期
	LEASE_ID	BIGINT NOT	NULL,					--租借合同
	PROJECT_ID	BIGINT NOT	NULL,					--项目名称
	LESSOR	VARCHAR(64)	NULL,						--出租方
	TENANTRY	VARCHAR(64)	NULL,					--承租方
	SETTLEMENT	VARCHAR(24)	NULL,					--结算方式
	START_DATE	CHAR(19)	NULL,					--起始日期
	END_DATE	CHAR(19)	NULL,					--截止日期
	LEASE_TYPE	VARCHAR(24)	NULL,					--合同类型
	CURRENT_SETTLEMENT_AMOUNT	VARCHAR(24)	NULL,	--本期结算金额
	ALREADY_SETTLEMENT_AMOUNT	VARCHAR(24)	NULL,	--已结算金额
	ALREADY_PAYMENT_AMOUNT	VARCHAR(24)	NULL,		--已支付金额
	FREIGHT	VARCHAR(24)	NULL,						--运费
	ACCOUNTING_TYPE	VARCHAR(24)	NULL,				--记账类型
	SERVICE_CHARGE	VARCHAR(24)	NULL,				--服务费
	LOSE_CHARGE	VARCHAR(64) NULL,					--遗失费
	REMARKS	VARCHAR(128) NULL,						--备注
	STATUS	CHAR(1) NOT NULL						--状态
)
--结算明细(租借结算子表)	Chen·G·Y 2017/08/30
CREATE TABLE T_SETTLEMENT_LIST(
	LIST_ID	BIGINT IDENTITY PRIMARY KEY,	
	SETTLEMENT_ID	BIGINT NULL,			
	COMMODITY_ID	BIGINT	NOT	NULL,		--周材ID
	COMMODITY VARCHAR(64) NOT NULL,			--周材品名
	SPECIFICATIONS_ID	BIGINT	NOT	NULL,	--规格ID
	SPECIFICATIONS VARCHAR(64) NOT NULL,	--规格
	RECEIPT_DATE	CHAR(19) NULL,			--单据日期
	RECEIPT_TYPE	VARCHAR(24)	NULL,		--单据类型
	MNEMONICS VARCHAR(12) NULL,				--代码编号
	QUANTITY VARCHAR(12) NULL,				--数量
	AUXILIARY_NUM VARCHAR(12) NULL,			--辅助数量
	DAILY_RENT	VARCHAR(12) NULL,			--日租金
	MEASUREMENT_UNIT VARCHAR(24) NULL,		--计量单位
	UNIT_CONVERSION VARCHAR(12) NULL,		--换算单位
	CONVERTED_QUANTITY VARCHAR(12) NULL,	--换算数量
	CONVERSION_DAYS	VARCHAR(12) NULL,		--换算天数
	AMOUNT	VARCHAR(12) NULL				--金额
)
--付款管理	Chen·G·Y 2017/09/04
CREATE TABLE T_LEASE_PAYMENT(
	PAYMENT_ID	BIGINT IDENTITY PRIMARY KEY,
	PAYMENT_SERIAL	VARCHAR(24)	NULL,				--付款编号
	PAYMENT_THEME	VARCHAR(24)	NULL,				--付款主题
	USER_ID		BIGINT	NULL,						--填报人ID
	USER_NAME	VARCHAR(24)	NULL,					--填报人
	FILL_DATE	CHAR(19)	NULL,					--填报日期
	LEASE_ID	BIGINT	NULL,						--租借合同
	LEASE_MONEY	VARCHAR(24)	NULL,					--合同金额
	TENANTRY	VARCHAR(24)	NULL,					--承租方
	LESSOR	VARCHAR(24)	NULL,						--出租方
	PAYMENT_DATE	CHAR(19)	NULL,				--付款日期
	PAYMENT_AMOUNT	VARCHAR(24)	NULL,				--付款金额
	ALREADY_PAYMENT_AMOUNT	VARCHAR(24)	NULL,		--已付金额
	AMOUNT_PAYABLE	VARCHAR(24)	NULL,				--应付金额
	ACCOUNTING_TYPE	VARCHAR(24)	NULL,				--记账类型
	PURPOSE		VARCHAR(24)	NULL,					--请款用途
	IS_INVOICE	CHAR(1) NULL,						--附带发票
	STATUS	CHAR(1) NULL							--状态
)
--结算信息(付款管理子表)	Chen·G·Y 2017/09/04
CREATE TABLE T_SETTLEMENT_INFO (
	INFO_ID	BIGINT IDENTITY PRIMARY KEY,
	PAYMENT_ID	BIGINT,
	COMMODITY_ID	BIGINT	NOT	NULL,			--周材ID
	MNEMONICS VARCHAR(12) NULL,					--代码编号
	COMMODITY VARCHAR(64) NOT NULL,				--周材品名
	SPECIFICATIONS VARCHAR(64) NOT NULL,		--周材规格
	SETTLEMENT_DAYS	VARCHAR(24) NULL,			--结算天数
	MEASUREMENT_UNIT VARCHAR(24) NULL,			--计量单位
	QUANTITY VARCHAR(12) NULL,					--数量
	UNIT_PRICE	VARCHAR(24) NULL,				--单价
	AMOUNT	VARCHAR(12) NULL,					--金额
	REMARKS	VARCHAR(64) NULL					--备注
)
--周材收退货记录表
CREATE TABLE T_LEASE_STOCK(
	STOCK_ID BIGINT IDENTITY PRIMARY KEY,
	LEASE_ID BIGINT NOT NULL,
	SPECIFICATIONS_ID BIGINT NOT NULL,
	QUANTITY VARCHAR(12) NULL					--数量
)

--项目结算费用详情-页签	jlh 2017/09/14
CREATE TABLE T_SETTLE_FEE (
	SETTLE_FEE_ID	BIGINT IDENTITY PRIMARY KEY,
	RELATE_ID	BIGINT,						--关联ID
	ITEM VARCHAR(16) NOT NULL,				--费用项目
	RELATE_MODULE VARCHAR(32) NOT NULL,		--关联模块
	AMOUNT float NOT NULL					--费用
)
--	jlh 2017/09/15
ALTER TABLE T_SETTLE_PROJECT  ALTER COLUMN BACK_OFF VARCHAR(32) NULL;
--ZHD
INSERT INTO INIT_LOAD_TABLE VALUES('planType', 'BM_PLAN_TYPE', 1, 1, 1, 'CODE', 'VALUE', 0, NULL, NULL, NULL, '计划类型',NULL, NULL, NULL,NULL, NULL, NULL);

ALTER TABLE T_MATERIALS_PLAN ADD PROJECT_TYPE VARCHAR(64) NULL;
ALTER TABLE T_MATERIALS_PLAN ADD BELONG_TO_AREA VARCHAR(64) NULL;
ALTER TABLE T_MATERIALS_PLAN  ALTER COLUMN ENGINEERING_TYPE VARCHAR(64)  NULL;

sp_rename      'T_DISPATCH_ALLOCATE_INIT.COMPON_SPECIFIC_NAME', 'EQUIP_SPECIFIC_NAME';
sp_rename      'T_DISPATCH_ALLOCATE_INIT.COMPON_SPECIFIC', 'EQUIP_SPECIFIC';
sp_rename      'T_CONTRACT_MATERIALS.ENGINEERING_TYPE', 'PROJECT_TYPE';

ALTER TABLE T_AMORTIZATION_INITIALIZATION DROP COLUMN COMMODITY_ID;
ALTER TABLE T_AMORTIZATION_INITIALIZATION ADD AMORTIZATION_ID BIGINT NOT NULL;


--2017/09/13 XNZ
ALTER TABLE T_CONTRACT_MATERIALS ADD BELONG_TO_AREA VARCHAR(32) NULL;
--2017/09/13 XNZ	设备管理系统（其他业务管理模块）修改合同编号字段
ALTER TABLE T_OTHER_BETS DROP COLUMN CONTRACT_SERIAL;
ALTER TABLE T_OTHER_BETS ADD CONTRACT_NO VARCHAR(64) NULL;

--2017-9-14  仓库维修  增加计划时间   yangj
ALTER TABLE T_EQUIPMENT_REPAIR ADD COMPLETIONED_DATE VARCHAR(24) NULL;

--2017-9-14  仓库维修  增加入库时间   yangj
ALTER TABLE T_EQUIPMENT_REPAIR ADD WAREHOUSE_DATE VARCHAR(24) NULL;

--2017-9-17  其他模块管理 增加 设备自编号   生产厂家  设备类型  yangj
ALTER TABLE  T_LOST_HANDLE  ADD  EQUIP_SERIAL  VARCHAR(64) NULL;
ALTER TABLE  T_LOST_HANDLE  ADD  EQUIP_VENDER  VARCHAR(64) NULL;  
ALTER TABLE  T_LOST_HANDLE  ADD  EQUIP_SPECIFIC  VARCHAR(64) NULL;
ALTER TABLE  T_LOST_DETAIL  ADD  CALCULATE  VARCHAR(32) NULL;  

--2017-9-21  验收 管理增加验收人员  yangj
ALTER   TABLE  T_EQUIPMENT_VERIFY  ADD   PRACTINAME   VARCHAR(32)  NULL   --来源于员工档案

--2017-9-24  其他模块管理 增加 设备自编号   生产厂家  设备类型  yangj
ALTER TABLE  T_OTHER_BETS  ADD  EQUIP_SERIAL  VARCHAR(64) NULL;
ALTER TABLE  T_OTHER_BETS  ADD  EQUIP_VENDER  VARCHAR(64) NULL;  
ALTER TABLE  T_OTHER_BETS  ADD  EQUIP_SPECIFIC  VARCHAR(64) NULL;
ALTER TABLE T_INSTALL_FEE  ADD REMARK  VARCHAR(32) NULL; -- 安装费用增加备注

--2017-9-27  项目结算 增加 状态   yangj
ALTER TABLE  T_SETTLE_PROJECT  ADD SETTLEPROJECT_STATE  VARCHAR(32)  NULL;
ALTER TABLE T_EQUIPMENT ADD WAREHOUSE_DATE VARCHAR(64) NULL;  --  设备添加 入库时间


--9-15 周材计划和周材合同添加 工程地址字段 ZHD
ALTER TABLE T_MATERIALS_PLAN ADD ADDRESS VARCHAR(64) NULL;
ALTER TABLE T_CONTRACT_MATERIALS ADD ADDRESS VARCHAR(64) NULL;

--2017/9/27 xnz 新增项目调拨页签-调拨清单
CREATE TABLE T_ALLOCATION_DETAIL(
	DETAIL_ID				BIGINT IDENTITY PRIMARY KEY,
	ALLOCATION_ID			BIGINT,
	MNEMONIC_CODE			VARCHAR(12) NULL,				--助记码
	COMMODITY 				VARCHAR(64) NOT NULL,			--品名
	SPECIFICATIONS 			VARCHAR(64) NOT NULL,			--周材规格
	PROJECT_ID				BIGINT,
	PROJECT_TOTAL			VARCHAR(16) NULL,				--项目库存
	MEASUREMENT_UNIT 		VARCHAR(24) NULL,				--计量单位
	ALLOCATION_COUNTS		VARCHAR(16) NULL,				--调拨数量
	SURPLUS_COUNTS			VARCHAR(16) NULL,				--剩余数量(项目库存-调拨数量)
	PROJECT_DEPOT_INIT_ID	BIGINT,							--项目仓库初始化ID
	REMARK					VARCHAR(128) NULL,				--备注
)

--2017/9/27 XNZ 新增周材管理系统-项目调拨模块
CREATE TABLE T_ALLOCATION_PROJECT(
	ALLOCATION_ID				BIGINT IDENTITY PRIMARY KEY,
	APPLYFOR_STATE 				VARCHAR(64) NULL,				--状态
	ALLOCATION_SERIAL			VARCHAR(64) NULL,				--调拨编号
	USER_ID						BIGINT,							--制单人
	USER_NAME					VARCHAR(64) NULL,				--制单人(当前登录用户)
	MAKE_DATE					CHAR(10) NULL,					--制单时间(当前日期)
	ASSETS_PROPERTY 			VARCHAR(6) NULL,				--资产属性
	ALLOCATION_DATE				CHAR(10) NULL,					--调拨日期
	ALLOCATION_TYPE				VARCHAR(64) NULL,				--调拨类型(默认为项目间调拨)
	OUT_CONTRACT_ID				BIGINT,							--调出合同ID
	OUT_CONTRACT_SERIAL			VARCHAR(64) NULL,				--调出项目合同编号(关联周材合同)
	OUT_PROJECT_ID				BIGINT,
	OUT_PROJECT_NAME			VARCHAR(64) NULL,				--调出项目名称(获取调出合同项目)
	IN_CONTRACT_ID				BIGINT,							--调入合同ID
	IN_CONTRACT_SERIAL			VARCHAR(64) NULL,				--调入项目合同编号(关联周材合同)
	IN_PROJECT_ID				BIGINT,
	IN_PROJECT_NAME				VARCHAR(64) NULL,				--调入项目名称(获取调入合同项目)
	ALLOCATION_TMEME			VARCHAR(64) NULL,				--调拨主题
	VEHICLE_NUM					VARCHAR(64) NULL,				--运输车辆号
	VEHICLE_PERSON				VARCHAR(32) NULL,				--运输车辆人员
	OUT_PROJECT_CONSIGNOR		VARCHAR(32) NULL,				--调出项目发货人
	IN_PROJECT_CONSIGNEE		VARCHAR(32) NULL,				--调入项目收货人
	ATTACH_SERIAL				VARCHAR(64) NULL,				--附属单据号
	AUDITOR_NAME				varchar(64) NULL,				--审核人
	AUDITOR_DATE				VARCHAR(32) NULL,				--审核时间
	PROJECT_DEPOT_INIT_ID		BIGINT,							--项目仓库初始化ID
	REMARK						VARCHAR(128) NULL,				--备注
	DEL_FLAG					CHAR(1) NULL,
)
--退场计划
CREATE TABLE T_EXEUNT_PLAN (
	EXEUNT_PLAN_ID 				bigint IDENTITY(1,1) PRIMARY KEY,	--ID
	EXEUNT_PLAN_SERIAL 			varchar(64) NOT NULL ,				--单据号
	DECLARE_DATE 				varchar(16) NULL ,					--申报时间
	PROJECT_NAME 				varchar(255) NULL ,					--工程名称
	PROJECT_TYPE 				varchar(64) NULL ,					--工程类型
	PLAN_APPLICANT 				varchar(64) NULL ,					--计划申报人
	BELONG_TO_AREA 				varchar(255) NULL ,					--工程区域
	PLAN_TYPE 					varchar(64) NULL ,					--计划类型
	ASSETS_PROPERTY 			varchar(64) COLLA ,					--租赁资产属性
	BACK_STORE_NAME 			varchar(255) NULL ,					--退回仓库
	WORK_FLOW 					varchar(64) NULL ,					--工作流
	TITLE 						varchar(255) NULL ,					--标题
	PROJECT_SCHEDULE 			varchar(255) NULL ,					--工程进度
	REMARK 						varchar(1024) NULL ,				--备注
	USER_ID 					bigint NULL ,						--用户ID
	APPLY_FOR_STATE 			varchar(16) NULL ,					--流程状态
	PROJECT_ID 					bigint NULL ,						--工程id
	BACK_STORE_ID 				bigint NULL 						--回退仓库ID
)
--退场计划需求明细
CREATE TABLE T_DEMAND_DETAIL_FOR_EXEUNT_PLAN (
	 DEMAND_ID					bigint IDENTITY(1,1) PRIMARY KEY,	--id
	 EXEUNT_PLAN_ID				bigint NULL ,						--退场计划ID
	 COMMODITY_ID				bigint NULL ,						--商品ID
	 MNEMONIC_CODE				varchar(64) NULL ,					--助记码
	 COMMODITY					varchar(128) NULL ,					--品名
	 DEMAND_SERIAL				varchar(64) NULL ,					--周材编号
	 SPECIFICATIONS				varchar(128) NULL ,					--周材规格
	 BRAND						varchar(128) NULL ,					--品牌
	 UNIT						varchar(128) NULL ,					--单位
	 DEMAND_NUM					varchar(64) NULL ,					--需求数量
	 AUXILIARY_UNIT				varchar(128) NULL ,					--辅助单位
	 AUXILIARY_NUM				varchar(64) NULL ,					--辅助数量
	 EXEUNT_DATE				varchar(64) NULL ,					--预计退场时间
	 RELATE_ID					bigint NULL ,						--关联ID
	 RELATE_MODULE				varchar(128) NULL 					--关联模块名
)

--JLH 2017-10-12 周材结算管理
CREATE TABLE T_SETTLE_MATERIALS
(
	SETTLE_ID BIGINT IDENTITY 	PRIMARY KEY,
	SETTLE_SERIAL 				VARCHAR(64) NULL,			--结算编号
	SETTLE_MAN 					VARCHAR(64) NOT NULL,		--结算人员
	SETTLE_DATE 				VARCHAR(32) NULL,			--结算日期
	SETTLE_TITLE 				VARCHAR(64) NULL,			--结算主题
	START_DATE 					VARCHAR(32) NULL,			--开始日期
	END_DATE 					VARCHAR(32)	NULL,			--结束日期
	CONTRACT_SERIAL             VARCHAR(64) NOT NULL,       --合同编号(HT-+YYYYMMDD+00)
	CONTRACT_CATEGORY			VARCHAR(16) NULL,			--合同类别
	CONTRACT_CATEGORY_NAME		VARCHAR(32) NULL,			--合同类别
	TRANPORT_CACULATE_TYPE		VARCHAR(16) NULL,			--合同类别
	TRANPORT_CACULATE_TYPE_NAME VARCHAR(16) NULL,			--合同类别
	TRANS_FEE__CACULATE_TYPE    VARCHAR(16) NULL,			--合同类别
	CONTRACTMA_ID				BIGINT  NULL,            	--合同ID
	CONTRACT_THEME				VARCHAR(16) NULL,			--合同类别
	PROJECT_NAME                VARCHAR(64) NULL,           --项目名称
	PA_ENT_NAME					VARCHAR(16) NULL,			--承租单位
	PB_ENT_NAME					VARCHAR(16) NULL,			--出租单位
	TAX_RATE					NUMERIC(12, 2) NULL,		--税率
	RENTAL_RATE					NUMERIC(12, 2) NULL,		--优惠比例
	TAX_CACULATE_TYPE			VARCHAR(32) NULL,			--计税方式
	TAX_CACULATE_TYPE_NAME		VARCHAR(32) NULL,			--计税方式
	CONTRACT_AMOUNT				NUMERIC(12, 2) NULL,		--合同金额
	FIN_SETTING_AMOUNT			NUMERIC(12, 2) NULL,		--已结算金额
	SETTLE_AMOUNT				NUMERIC(12, 2) NULL,		--本次结算金额
	HANDOVER_AMOUNT				NUMERIC(12, 2) NULL,		--实际支付金额
	WRITEDOWN_AMOUNT			NUMERIC(12, 2) NULL,		--冲减金额
	FINANCIA_TYPE				VARCHAR(32) NULL,			--财务类型
	SETTLE_DEP_ID				BIGINT  NULL,            	--结算部门ID
	SETTLE_DEP_NAME				VARCHAR(32) NULL,			--结算部门名称
	TRANS_FEE_AMOUNT			NUMERIC(12, 2) NULL,		--运费金额
	OTHER_FEE_AMOUNT			NUMERIC(12, 2) NULL,		--其他金额
	DEL_FLAG					VARCHAR(16) NULL,	
	STATUS						VARCHAR(16) NULL,			--状态
)
ALTER TABLE T_SETTLE_FEE ADD RELATE_MODULE VARCHAR(32) NOT NULL DEFAULT ''; --关联模块
ALTER TABLE T_MATERIALS_SCRAP ADD SCRAP_TYPE VARCHAR(32)  NULL ; --报废类型
ALTER TABLE T_SETTLE_MATERIALS ADD DEL_FLAG VARCHAR(16)  NULL ; 
ALTER TABLE T_ASSEMBLE_AND_DISASSEMBLE_FEE ADD FEE_CATEGORY VARCHAR(32)  NULL ; 

--JLH 2017-10-17 周材仓库
CREATE TABLE T_BASEDEPOT_JOIN_MATERIALS
(
	STORE_MATERIALS_ID 	BIGINT IDENTITY 	PRIMARY KEY,
	COUNTS 						BIGINT NOT NULL,			--数量
	SPECIFICATIONS_ID 			BIGINT NOT NULL,			--规格ID
	DEPOT_ID 			BIGINT NOT NULL,					--周材仓库ID
)
ALTER TABLE T_PROJECT_DEPOT_INIT_DETAIL ALTER COLUMN MNEMONICS VARCHAR(32) NOT NULL;
ALTER TABLE T_PROJECT_DEPOT_INIT_DETAIL ALTER COLUMN COMMODITY VARCHAR(32) NOT NULL;
ALTER TABLE T_PROJECT_DEPOT_INIT_DETAIL ALTER COLUMN SPECIFICATIONS VARCHAR(32)  NOT NULL;

--2017/09/28 xnz 仓库调拨
CREATE TABLE T_ALLOCATION_DEPOT(
	ALLOCATION_ID 			BIGINT IDENTITY PRIMARY KEY,
	APPLYFOR_STATE			VARCHAR(6) NOT NULL,				--状态
	ALLOCATION_SERIAL		VARCHAR(64) NOT NULL,				--调拨编号
	USER_ID					BIGINT,								--制单人ID
	USER_NAME				VARCHAR(64) NOT NULL,				--制单人(当前登录用户)
	INPUT_DATE				CHAR(10) NOT NULL,					--录入日期
	ALLOCATION_THEME		VARCHAR(64) NOT NULL,				--调拨主题
	ALLOCATION_DATE			CHAR(10) NOT NULL,					--调拨时间
	ALLOCATION_TYPE			VARCHAR(64) NOT NULL,				--调拨类型(默认为仓库调拨)
	OUT_DEPOT_ID			BIGINT,								
	OUT_DEPOT_NAME			VARCHAR(64) NOT NULL,				--调出仓库(仓库管理)
	IN_DEPOT_ID				BIGINT,							
	IN_DEPOT_NAME			VARCHAR(64) NOT NULL,				--调入仓库(仓库管理)
	ASSETS_PROPERTY 		VARCHAR(6) NOT NULL,				--资产属性
	APPLICANT_MAN			VARCHAR(64) NULL,					--申请人
	CHARGE_MAN				VARCHAR(64) NULL,					--负责人
	CONTAC_TEL				VARCHAR(32) NULL,					--联系电话
	VEHICLE_NUM				VARCHAR(64) NULL,					--运输车辆号
	VEHICLE_PERSON			VARCHAR(32) NULL,					--运输车辆人员
	OUT_DEPOT_CONSIGNOR		VARCHAR(32) NULL,					--调出仓库发货人
	IN_DEPOT_CONSIGNEE		VARCHAR(32) NULL,					--调入仓库收货人((用户管理)
	ATTACH_SERIAL			VARCHAR(64) NULL,					--附属单据号(手输)
	REMARK					VARCHAR(128) NULL,					--备注
	DEL_FLAG				CHAR(1) NULL,
)

--仓库周材库调拨清单
CREATE TABLE T_ALLOCATION_DEPOT_DETAIL(
	DETAIL_ID				BIGINT IDENTITY PRIMARY KEY,
	ALLOCATION_ID			BIGINT,
	MNEMONIC_CODE			VARCHAR(12) NULL,				--助记码
	COMMODITY 				VARCHAR(64) NOT NULL,			--品名
	SPECIFICATIONS 			VARCHAR(64) NOT NULL,			--周材规格
	MEASUREMENT_UNIT 		VARCHAR(24) NULL,				--计量单位
	OUT_LOCATION_ID			BIGINT,
	OUT_LOCATION_NAME 		VARCHAR(32) NULL,				--调出库位
	DEPOT_INIT_ID			BIGINT,							--调出仓库初始化ID
	QUANTITY				VARCHAR(16) NULL,				--库存
	ALLOCATION_COUNTS		VARCHAR(16) NULL,				--调拨数量
	IN_LOCATION_ID			BIGINT,
	IN_LOCATION_NAME		VARCHAR(32) NULL,				--调入库位
	SURPLUS_COUNTS			VARCHAR(16) NULL,				--剩余数量(项目库存-调拨数量)
)

--2017/10/17 XNZ 
ALTER TABLE T_COST_HANDLE ADD FEES_TYPE_NAME VARCHAR(32) NULL;--收费类型

--2017-10-18 jlh
--周材仓库-人员关联表
CREATE TABLE T_BASEDEPOT_JOIN_USER
(
	JOIN_ID   BIGINT IDENTITY PRIMARY KEY,
	DEPOT_ID		BIGINT  NULL,    --周材仓库ID
	USER_ID		BIGINT  NULL    --人员ID
)
--2017/10/18 XNZ 周材管理(发货调度清单)
CREATE TABLE T_DISPATCH_MATERIALS(
	DISPATCH_ID					BIGINT IDENTITY PRIMARY KEY,
	MATERIALS_ID				BIGINT,
	MNEMONICS 					VARCHAR(8) NULL,			 --助记码
	COMMODITY_ID 				BIGINT,						 --品名ID
	COMMODITY 					VARCHAR(64) NULL,			 --品名
	SPECIFICATIONS 				VARCHAR(64) NULL,			 --周材规格
	MEASUREMENT_UNIT 			VARCHAR(24) NULL,			 --计量单位
	DISPATCH_COUNTS				VARCHAR(16) NULL,			 --调度数量
	SECOND_UNIT_CONVERSION 		VARCHAR(12) NULL,			 --辅助单位(换算单位)
	SECOND_CONVERTED_QUANTITY 	VARCHAR(12) NULL,			 --换算数量
)

--2017/10/18 xnz 
ALTER TABLE T_MATERIALS_DISPATCH ADD STORE_ID BIGINT;
ALTER TABLE T_MATERIALS_DISPATCH ADD LOCATION_ID BIGINT;
ALTER TABLE T_MATERIALS_DISPATCH ADD CONTRACT_NUMBER VARCHAR(32);--周材合同流水号

--20171020 HPK
--周材出库查询表
CREATE TABLE T_METERIALS_OUT_STOCK
(
	METERIALS_OUT_STOCK_ID BIGINT IDENTITY PRIMARY KEY,
	COMMODITY 										VARCHAR(64) NOT NULL,			--品名
	SPECIFICATIONS 								VARCHAR(64) NOT NULL,			--规格
	UNIT													VARCHAR(64) NULL,			  	--单位
	NUMBER												VARCHAR(12) NULL,					--数量
	AUXILIARY_UNIT								VARCHAR(64)  NULL,			  --辅助单位
	AUXILIARY_NUM									VARCHAR(12) NULL,					--辅助数量
	OUT_STORAGE_DATE							CHAR(9) NULL,							--出库时间
	OUT_STORAGE_TYPE							VARCHAR(64)  NULL,				--出库类型
	OUT_STORAGE_LOCATION					VARCHAR(16) NULL,					--出库库位
	OUT_STORAGE_DEPOT							VARCHAR(16) NULL,					--出库仓库
	RELATE_BUSINESS								VARCHAR(16) NULL,					--关联业务
	DOCUMENT_SERIAL								VARCHAR(64) NOT NULL,			--单据号
	REMARK												VARCHAR(128) NOT NULL,		--备注
)

--周材入库查询表
CREATE TABLE T_METERIALS_IN_STOCK
(
	METERIALS_IN_STOCK_ID BIGINT IDENTITY PRIMARY KEY,
	COMMODITY 										VARCHAR(64) NOT NULL,			--品名
	SPECIFICATIONS 								VARCHAR(64) NOT NULL,			--规格
	UNIT													VARCHAR(64) NULL,			  	--单位
	NUMBER												VARCHAR(12) NULL,					--数量
	AUXILIARY_UNIT								VARCHAR(64)  NULL,			  --辅助单位
	AUXILIARY_NUM									VARCHAR(12) NULL,					--辅助数量
	IN_STORAGE_DATE								CHAR(9) NULL,							--出库时间
	IN_STORAGE_TYPE								VARCHAR(64)  NULL,				--出库类型
	IN_STORAGE_LOCATION						VARCHAR(16) NULL,					--出库库位
	IN_STORAGE_DEPOT							VARCHAR(16) NULL,					--出库仓库
	RELATE_BUSINESS								VARCHAR(16) NULL,					--关联业务
	DOCUMENT_SERIAL								VARCHAR(64) NOT NULL,			--单据号
	REMARK												VARCHAR(128) NOT NULL,		--备注
)
--------------------------------------------------------------
--2017/10/20 xnz
ALTER TABLE T_MATERIALS_DISPATCH ADD EFFECTIVE CHAR(1) NULL;--失效，生效
ALTER TABLE T_MATERIALS_DISPATCH ADD ADDRESS VARCHAR(64) NULL;--工地地址
ALTER TABLE T_DISPATCH_MATERIALS ADD AUXILIARY_QUANTITY VARCHAR(12) NULL;--辅助数量
--2017/10/21 XNZ
ALTER TABLE T_PROJECT_DEPOT_INIT_DETAIL ADD CONVERTED_QUANTITY VARCHAR(12) NULL;--换算数量
ALTER TABLE T_MATERIALS_DETIAL ADD START_DATE CHAR(10)  NULL;--预计进场时间
ALTER TABLE T_MATERIALS_DETIAL ADD EXIT_DATE CHAR(10)  NULL;--预计退场时间

ALTER TABLE T_CONTRACT_MATERIALS ALTER COLUMN CONTRACT_NUMBER VARCHAR(64);
ALTER TABLE T_CONTRACT_MATERIALS ADD COMPETENT_DEPARTMET VARCHAR(64) NULL;		--项目主管部门
ALTER TABLE T_CONTRACT_MATERIALS ALTER COLUMN CONTRACT_THEME VARCHAR(256) NULL;	

--2017/10/23
ALTER TABLE T_MATERIALS_DISPATCH ADD DISPATCH_THEME VARCHAR(128) NULL;

--2017/10/23 xnz周材合同页签(报废赔偿设定)
CREATE TABLE T_COMPENSATION_SCRAP(
	COMPENSATION_ID 			BIGINT IDENTITY PRIMARY KEY,
	CONTRACTMA_ID				BIGINT,
	SCRAP_ID					BIGINT,
	COMMODITY_ID 				BIGINT NOT NULL,			--品名(来源 周材品名设置表)
	COMMODITY 					VARCHAR(32) NULL,
	MEASUREMENT_UNIT 			VARCHAR(24) NULL,			--计量单位
	SCRAP_TYPE 					VARCHAR(32) NULL,			--报废类型
	SCRAP_UNIT_PRICE 			VARCHAR(24) NULL,			--损坏单价
)
ALTER TABLE T_CONTRACT_MATERIALS ALTER COLUMN CONTRACT_THEME VARCHAR(256) NULL;

--2017-10-22 chenzj
--周材库存（基地仓库初始化）
CREATE TABLE T_MATERIALS_STORE 
(
	STORE_ID BIGINT IDENTITY PRIMARY KEY,				--库存id
	DEPOT_ID BIGINT NOT NULL,							--仓库id
	LOCATION_ID BIGINT NOT NULL,						--库位id
	SPECIFICATIONS_ID BIGINT NOT NULL,					--周材规格Id
	QUANTITY VARCHAR(32) NULL									--数量
)

ALTER TABLE T_BASE_DEPOT_INIT ALTER COLUMN COMMODITY VARCHAR(64)
ALTER TABLE T_BASE_DEPOT_INIT ALTER COLUMN SPECIFICATIONS VARCHAR(64)

--2017/10/23 chenzj
ALTER TABLE T_MATERIALS_DISPATCH ADD DISPATCH_THEME VARCHAR(128) NULL;	
sp_rename 'T_BASE_DEPOT_INIT.SUPPLEMENT_QUANTITY','CONVERSION';
ALTER TABLE T_BASE_DEPOT_INIT ADD SUPPLEMENT_QUANTITY VARCHAR(24) NULL;
ALTER TABLE T_BASE_DEPOT_INIT ADD SUPPLEMENT_TOTAL VARCHAR(24) NULL;
ALTER TABLE T_BASE_DEPOT_INIT_DETAIL ADD UNIT VARCHAR(16) NULL;
ALTER TABLE T_BASE_DEPOT_INIT_DETAIL ADD SUPPLEMENT_QUANTITY VARCHAR(16) NULL;
ALTER TABLE T_BASE_DEPOT_INIT_DETAIL ADD SUPPLEMENT_UNIT VARCHAR(16) NULL;
ALTER TABLE T_BASE_DEPOT_INIT_DETAIL ADD CONVERSION VARCHAR(16) NULL;

--2017/10/24 xnz
ALTER TABLE T_COMPENSATION_SCRAP ADD SCRAP_ID BIGINT NULL;--报废赔偿ID
ALTER TABLE T_MATERIALS_PACKAGE ADD HANDING_CHARGE VARCHAR(24) NULL;--装卸费用
ALTER TABLE T_MATERIALS_PACKAGE ADD PACK_AMOUNT VARCHAR(24) NULL;--包装费用

--2017/10/24 HPK
--其他出入库处理表
CREATE TABLE T_OTHER_MATERIAL_STOCK
(
	OTHER_MATERIAL_STOCK_ID 			BIGINT IDENTITY PRIMARY KEY,
	OMS_SERIAL										VARCHAR(32) NULL,					--单据编号
	USER_ID 											BIGINT NULL,							--制单人Id
	USER_NAME											VARCHAR(32) NULL,			  	--制单人
	HANDLE_DATE										CHAR(10) NULL,			  		--处理日期
	STORE_ID										BIGINT,
	STORE_NAME										VARCHAR(16) NULL,			  	--仓库名称
	LOCATION_ID									BIGINT,							--库位Id
	STORAGE_LOCATION							VARCHAR(16) NULL,			  	--库位名称
	HANDLE_TYPE										CHAR(1) NOT NULL,			  	--处理类型
	REMARK												VARCHAR(128) NULL,			  --备注
	DEL_FLAG											CHAR(1) NULL,			  			
	APPLYFOR_STATE								CHAR(1) NULL,			  			--审批状态
)
--其他出入库处理表页签（申请明细）
CREATE TABLE T_APPLICATION_DETAIL
(
	APPLICATION_DETAIL_ID 				BIGINT IDENTITY PRIMARY KEY,
	OTHER_MATERIAL_STOCK_ID				BIGINT NOT NULL,
	MATERIALS_STORE_ID					BIGINT,				--仓库库存表id
	MNEMONICS											VARCHAR(32) NOT NULL,			--助记码
	COMMODITY_ID										BIGINT,							--品名id	
	COMMODITY											VARCHAR(32) NOT NULL,			--品名
	SPECIFICATIONS_ID							BIGINT,							--规格id
	SPECIFICATIONS								VARCHAR(32) NOT NULL,			--规格
	UNIT													VARCHAR(16) NULL,			  	--单位
	LOCATION_ID									BIGINT,							--库位id
	LOCATION_NAME								VARCHAR(32) NULL,				--库位名称
	QUANTITY									VARCHAR(32) NULL,				--库存数量		
	NUMBER										VARCHAR(16) NULL,			  	--数量
	SUPPLEMENT_UNIT								VARCHAR(16) NULL,			  	--辅助单位
	SECOND_CONVERTED_QUANTITY					VARCHAR(32) NULL,				--换算数量
	SUPPLEMENT_NUM								VARCHAR(16) NULL,			  	--辅助数量
)

--2017-10-24 chenzj
ALTER TABLE T_BASE_DEPOT_INIT ADD EFFECTIVE CHAR(1) NOT NULL DEFAULT 0;
ALTER TABLE T_PROJECT_DEPOT_INIT ADD INIT_PERSON VARCHAR(64) NULL;
ALTER TABLE T_PROJECT_DEPOT_INIT ADD CONTRACT_SERIAL VARCHAR(64) NULL;
ALTER TABLE T_PROJECT_DEPOT_INIT ADD EFFECTIVE VARCHAR(8) NULL;

--2017-10-25 CHENZJ
--项目周材库存（项目仓库初始化）
CREATE TABLE T_PROJECT_MATERIALS_STORE 
(
	STORE_ID BIGINT IDENTITY PRIMARY KEY,				--库存id
	PROJECT_ID BIGINT NOT NULL,							--项目id
	SPECIFICATIONS_ID BIGINT NOT NULL,					--周材规格Id
	QUANTITY VARCHAR(32) NULL							--数量
)	

--JLH 201701101
ALTER TABLE T_EQUIPMENT_WAREHOUSE ADD IS_SCRAPED CHAR(1) NOT NULL DEFAULT 0 ;--是否拆卸报停 -0 否 1是
)
--2017-10-31 CHENZJ
ALTER TABLE T_BASE_DEPOT_INIT ADD SPECIFICATIONS_ID BIGINT NULL;
ALTER TABLE T_PROJECT_DEPOT_INIT_DETAIL ADD SPECIFICATIONS_ID BIGINT NULL;
ALTER TABLE T_RECYCLE_MANAGE_DETAIL ADD SPECIFICATIONS_ID BIGINT NULL;
)

--2017/10/24 XNZ 周材的现场装车清单
CREATE TABLE T_PACKAGE_DETAIL(
	DETAIL_ID 					BIGINT IDENTITY PRIMARY KEY,
	PACKAGE_ID					BIGINT,
	MNEMONICS 					VARCHAR(8) NOT NULL,				--助记码
	COMMODITY 					VARCHAR(64) NULL,					--品名
	SPECIFICATIONS 				VARCHAR(64) NULL,					--周材规格
	MEASUREMENT_UNIT 			VARCHAR(24) NULL,					--计量单位
	DISPATCH_QUANTITY			VARCHAR(24) NULL,					--调度数量
	RENT_QUANTITY				VARCHAR(24) NULL,					--出租数量
	LOAD_QUANTITY				VARCHAR(24) NULL,					--装车数量
	PACKAGE_QUANTITY			VARCHAR(24) NULL,					--包装数量
	SECOND_UNIT_CONVERSION 		VARCHAR(16) NULL,					--辅助单位
	CONVERTED_QUANTITY 			VARCHAR(16) NULL,					--辅助数量
	REMARK						VARCHAR(125) NULL,					--备注
)

--2017/10/25 xnz 现场装车的费用处理页签
CREATE TABLE T_COST_DETAIL (
	COST_ID						BIGINT IDENTITY PRIMARY KEY,
	PACKAGE_ID					BIGINT NULL,
	COMMODITY					VARCHAR(32) NULL,					--品名
	FEES_TYPE					VARCHAR(32) NULL,					--收费类型
	FEES_TYPE_NAME				VARCHAR(32) NULL,
	CHARGE_UNIT_PRICE			VARCHAR(32) NULL,					--收费单价
	CHARGE_QUANTITY				VARCHAR(32) NULL,					--收费数量
	CHARGE_AMOUNT				VARCHAR(24) NULL,					--收费金额
	CHARGE_MODE					VARCHAR(64) NULL,					--收费方式
	LEASE_AMOUNT				VARCHAR(24) NULL; 					--计租金额
)
--2017/10/31 xnz 
ALTER TABLE T_MATERIALS_PACKAGE ALTER COLUMN DISPATCH_AUDITOR_ID BIGINT NULL;
ALTER TABLE T_MATERIALS_PACKAGE ALTER COLUMN ORDER_AUDITOR_ID BIGINT NULL;
ALTER TABLE T_MATERIALS_PACKAGE ADD LOCATION_ID BIGINT NULL;--库位id
ALTER TABLE T_MATERIALS_PACKAGE ADD STORE_ID BIGINT NULL;--仓库id
ALTER TABLE T_MATERIALS_PACKAGE ADD PROJECT_ID BIGINT NULL;--项目id

ALTER TABLE T_PACKAGE_DETAIL ADD AUXILIARY_QUANTITY VARCHAR(24) NULL;
ALTER TABLE T_PACKAGE_DETAIL ADD SPECIFICATIONS_ID BIGINT NULL;
ALTER TABLE T_DISPATCH_MATERIALS ADD SPECIFICATIONS_ID BIGINT NULL;--规格id
ALTER TABLE T_MATERIALS_DISPATCH ADD PROJECT_ID BIGINT NULL;
ALTER TABLE T_PACKAGE_DETAIL ADD COMMODITY_ID BIGINT NULL;


--jlh-2917-11-3
ALTER TABLE T_MATERIALS_REPAIR ADD TEAM_NAME				VARCHAR(64) NOT NULL
ALTER TABLE T_MATERIALS_REPAIR ADD STORE_NAME				VARCHAR(64) NOT NULL
ALTER TABLE T_MATERIALS_REPAIR ADD TEAM_ID 				BIGINT
ALTER TABLE T_MATERIALS_REPAIR ALTER COLUMN REPAIR_PERSONNEL	VARCHAR(64)  NULL
ALTER TABLE T_MATERIALS_REPAIR ALTER COLUMN REPAIR_THEME	VARCHAR(64)  NULL

--2017/11/2 chenzj
--回收管理--清单页签--库位回收数量表
CREATE TABLE T_MATERIALS_RECYCLE_COUNT_TEMP 
(
	TEMP_ID BIGINT IDENTITY PRIMARY KEY,				--库存id
	LOCATION_ID BIGINT NOT NULL,						--库位id
	SPECIFICATIONS_ID BIGINT NOT NULL,					--规格Id
	RECYCLE_ID BIGINT NOT NULL,
	QUANTITY VARCHAR(32) NULL									--数量
)
--回收管理 ----损坏赔偿页签
CREATE TABLE T_COMPENSATION_DAMAGE 
( 
	COMPENSATION_ID BIGINT IDENTITY PRIMARY KEY,	
	RECYCLE_ID BIGINT NOT NULL,									--回收id
	COMMODITY_ID BIGINT NOT NULL,								
	COMMODITY VARCHAR(32) NULL,									--品名
	DAMAGE_ID BIGINT NOT NULL,									--损坏Id
	DAMAGE_TYPE VARCHAR(64) NULL,								--损坏类型
	MEASUREMENT_UNIT  VARCHAR(32) NULL,					--计量单位
	DAMAGE_UNIT_PRICE  VARCHAR(24) NULL,					--损坏单价
	QUANTITY VARCHAR(32)  NULL													--数量
)
ALTER TABLE T_PACKAGE_DETAIL ADD COMMODITY_ID BIGINT NULL;

--2017-10-30 zhd
ALTER TABLE T_LOGISTICS_TRANDESTRIBUTION ADD COMM_SPECIFIC_NAME VARCHAR(64) NULL;

--制作处理	Chen·G·Y 2017/11/03
CREATE TABLE T_HANDLE_MAKE(
	HANDLE_ID BIGINT IDENTITY PRIMARY KEY,
	APPLY_MAKE_ID	BIGINT NOT NULL,
	HANDLE_SERIAL	VARCHAR(64) NULL,				--处理单号
	HANDLE_THEME	VARCHAR(64) NULL,				--处理主题
	USER_ID		BIGINT NOT NULL,					--制单人ID
	USER_NAME	VARCHAR(24) NULL,					--制单人
	FILL_DATE	CHAR(19) NULL,						--处理日期
	PRODUCERS	VARCHAR(24) NULL,					--制作人员
	STORE_ID	BIGINT  NULL,						--仓库
	ASSETS_PROPERTY	VARCHAR(12) NULL,				--资产属性
	PLAN_FINISH_DATE	CHAR(19) NULL,				--计划完成时间
	REMARKS	VARCHAR(128) NULL,						--备注
	STATUS	VARCHAR(1) NOT NULL,					--状态
	DEL_FLAG	CHAR(1) NULL,
)
--制作产品(制作处理页签)	Chen·G·Y 2017/11/03
CREATE TABLE T_MAKE_PRODUCT(
	PRODUCT_ID BIGINT IDENTITY PRIMARY KEY,
	HANDLE_ID			BIGINT NULL,
	COMMODITY_ID		BIGINT NOT NULL,
	COMMODITY			VARCHAR(64) NULL,		--周材名称
	SPECIFICATIONS_ID	BIGINT NOT NULL,
	SPECIFICATIONS	    VARCHAR(64) NULL,		--周材规格
	MNEMONICS			VARCHAR(64) NULL,		--助记码
	MEASUREMENT_UNIT	VARCHAR(64) NULL,		--计量单位
	MAKE_QUANTITY		VARCHAR(64) NULL,		--制作数量
	AUXILIARY_QUANTITY  VARCHAR(24) NULL;		--换算数量
	CONVERTED_QUANTITY 	VARCHAR(64) NULL,		--辅助数量
	ENTER_LOCATION_ID	VARCHAR(64) NULL,		--入库库位id
	ENTER_LOCATION_NAME	VARCHAR(64) NULL		--入库库位名称
)

--2017-11-3 chenzj
ALTER TABLE T_RECYCLE_MANAGE_DETAIL ADD COMMODITY_ID BIGINT NULL;
ALTER TABLE T_RECYCLE_MANAGE_FEE ADD LEASE_AMOUNT VARCHAR(24) NULL;
ALTER TABLE T_COMPENSATION_DAMAGE ADD DAMAGE_AMOUNT VARCHAR(24) NULL;
ALTER TABLE T_RECYCLE_MANAGE_FEE ADD COMMODITY_ID BIGINT NULL;


--JLH201701104
ALTER TABLE T_BEFORE_MATERIALS_REPAIR ADD LOCATION_ID BIGINT
ALTER TABLE T_BEFORE_MATERIALS_REPAIR ADD SPECIFICATIONS_ID BIGINT
ALTER TABLE T_BEFORE_MATERIALS_REPAIR ADD  SECOND_UNIT_CONVERSION VARCHAR(32) NULL;

ALTER TABLE T_AFTER_MATERIALS_REPAIR ADD LOCATION_ID BIGINT
ALTER TABLE T_AFTER_MATERIALS_REPAIR ADD SPECIFICATIONS_ID BIGINT
ALTER TABLE T_AFTER_MATERIALS_REPAIR ADD  SECOND_UNIT_CONVERSION VARCHAR(32) NULL;

exec sys.sp_rename      'T_PACKAGE_DETAIL.SECOND_CONVERTED_QUANTITY', 'CONVERTED_QUANTITY';

--2017/11/02 xnz
ALTER TABLE T_MATERIALS_PACKAGE ADD MATERIALS_ID BIGINT NULL;--调度单id
ALTER TABLE T_PACKAGE_DETAIL ADD DISPATCH_ID BIGINT NULL;--调度清单id
--2017/11/03 xnz 
ALTER TABLE T_COST_DETAIL ADD LEASE_AMOUNT VARCHAR(24) NULL;--计租金额
ALTER TABLE T_MATERIALS_PACKAGE ADD RECEIVE_ID BIGINT NULL;
ALTER TABLE T_MATERIALS_PACKAGE ADD RECEIVE_NAME VARCHAR(24) NULL;--收发人员
ALTER TABLE T_MATERIALS_DISPATCH ALTER COLUMN PROJECT_NAME VARCHAR(128) NULL;
ALTER TABLE T_MATERIALS_DISPATCH ALTER COLUMN ADDRESS VARCHAR(128) NULL;
ALTER TABLE T_DISPATCH_MATERIALS ADD COUNTS VARCHAR(24) NULL;--运输数量

ALTER TABLE T_COST_DETAIL ADD FEE_CATEGORY VARCHAR(32) NULL;--收费类别


--jlh 2017-11-6
ALTER TABLE T_MATERIALS_REPAIR ADD DEL_FLAG CHAR(1) NOT NULL DEFAULT 1;
ALTER TABLE T_BEFORE_MATERIALS_REPAIR ALTER COLUMN SPECIFICATIONS VARCHAR(64) NOT NULL;
ALTER TABLE T_AFTER_MATERIALS_REPAIR ALTER COLUMN SPECIFICATIONS VARCHAR(64) NOT NULL;



--2017年11月4日10:34:20  chenzj
ALTER TABLE T_RECYCLE_MANAGE_DETAIL ADD CONVERSION_NUM VARCHAR(16) NULL;--转换系数
ALTER TABLE T_COST_HANDLE ADD FEE_CATEGORY VARCHAR(32) NULL;--收费类别
ALTER TABLE T_RECYCLE_MANAGE_FEE ADD FEE_CATEGORY VARCHAR(32) NULL;--收费类别
ALTER TABLE T_RECYCLE_MANAGE ADD RECEIVE_PEOPLE VARCHAR(32) NULL;--收发人员

--2017年11月6日08:55:11  chenzj
ALTER TABLE T_COMPENSATION_DAMAGE ALTER COLUMN QUANTITY VARCHAR(32) NULL;
ALTER TABLE T_MATERIALS_STORE ALTER COLUMN QUANTITY VARCHAR(32) NULL;
ALTER TABLE T_PROJECT_MATERIALS_STORE ALTER COLUMN QUANTITY VARCHAR(32) NULL;
ALTER TABLE T_MATERIALS_RECYCLE_COUNT_TEMP ALTER COLUMN QUANTITY VARCHAR(32) NULL;

--2017/11/06 xnz	
ALTER TABLE T_ALLOCATION_PROJECT ALTER COLUMN OUT_PROJECT_NAME VARCHAR(128) NULL;
ALTER TABLE T_ALLOCATION_PROJECT ALTER COLUMN IN_PROJECT_NAME VARCHAR(128) NULL;
INSERT INTO BM_RECYCLE_TYPE VALUES('3', '调拨退回');
ALTER TABLE T_ALLOCATION_DETAIL ADD SPECIFICATIONS_ID VARCHAR(24) NULL;

2017/11/07 xnz 
ALTER TABLE T_ALLOCATION_DETAIL ADD COMMODITY_ID BIGINT NULL;
ALTER TABLE T_ALLOCATION_DETAIL ADD SECOND_UNIT_CONVERSION VARCHAR(32) NULL;
ALTER TABLE T_ALLOCATION_DETAIL ADD SECOND_CONVERTED_QUANTITY VARCHAR(32) NULL;
ALTER TABLE T_MATERIALS_PACKAGE ALTER COLUMN PB_ENT_ID BIGINT NULL;
ALTER TABLE T_ALLOCATION_PROJECT ALTER COLUMN MAKE_DATE CHAR(16) NULL;
2017/11/08 xnz
ALTER TABLE T_MATERIALS_PACKAGE ALTER COLUMN PROJECT_NAME VARCHAR(128) NULL;
ALTER TABLE T_RECYCLE_MANAGE ALTER COLUMN DEPOT_ID BIGINT NULL;
--2017年11月8日17:55:49	 chenzj
ALTER TABLE T_RECYCLE_MANAGE_DETAIL ALTER COLUMN SPECIFICATIONS VARCHAR(64) NULL;
--2017年11月10日13:46:57 chenzjs
ALTER TABLE T_ALLOCATION_DEPOT_DETAIL ADD SPECIFICATIONS_ID BIGINT NULL;
ALTER TABLE T_BASE_DEPOT_INIT ADD DEL_FLAG CHAR(1) NOT NULL DEFAULT '1';

--2017/11/09 XNZ
ALTER TABLE T_MATERIALS_PACKAGE ADD REMARK VARCHAR(128) NULL;--备注
--2017/11/10 xnz
ALTER TABLE T_PROJECT ADD MATERIALSED CHAR(1) NULL;--是否做过周材合同
UPDATE  a
SET a.MATERIALSED = 1
FROM
	T_PROJECT a,T_CONTRACT_MATERIALS b
WHERE
	a.PROJECT_ID = b.PROJECT_ID

--2017年11月10日13:46:57 chenzj
ALTER TABLE T_PROJECT_DEPOT_INIT ADD DEL_FLAG CHAR(1) NOT NULL DEFAULT '1';
ALTER TABLE T_LOST_COMPENSATION ADD ADDRESS VARCHAR(128)  NULL;
ALTER TABLE T_LOST_COMPENSATION_DETAIL ALTER COLUMN SPECIFICATIONS VARCHAR(64) NULL;
ALTER TABLE T_LOST_COMPENSATION_DETAIL ADD SPECIFICATIONS_ID BIGINT NULL;
ALTER TABLE T_LOST_COMPENSATION_DETAIL ADD CONVERSION_NUM VARCHAR(16) NULL;

--2017/11/15 xnz
ALTER TABLE T_ALLOCATION_DEPOT ALTER COLUMN INPUT_DATE CHAR(16) NOT NULL;
exec sys.sp_rename      'T_ALLOCATION_DEPOT_DETAIL.DEPOT_INIT_ID', 'STORE_ID';

--2017年11月14日 15点20分 chenzj
ALTER TABLE T_LOST_COMPENSATION ALTER COLUMN RECHECK_DATE VARCHAR(32) NULL;
ALTER TABLE T_LOST_COMPENSATION ALTER COLUMN CHECK_DATE VARCHAR(32) NULL;
ALTER TABLE T_LOST_COMPENSATION ALTER COLUMN PROJECT_NAME VARCHAR(128) NULL;
ALTER TABLE T_LOST_COMPENSATION ALTER COLUMN ADDRESS VARCHAR(256) NULL;
ALTER TABLE T_LOST_COMPENSATION ALTER COLUMN TOTAL_COMPENSATION VARCHAR(24) NULL;
ALTER TABLE T_LOST_COMPENSATION_DETAIL ALTER COLUMN OWE_QUANTITY VARCHAR(16) NULL;
ALTER TABLE T_LOST_COMPENSATION_DETAIL ALTER COLUMN LOST_QUANTITY VARCHAR(16) NULL;
ALTER TABLE T_LOST_COMPENSATION_DETAIL ALTER COLUMN TOTAL_COSTS VARCHAR(16) NULL;
ALTER TABLE T_LOST_COMPENSATION_DETAIL ALTER COLUMN SUPPLEMENT_QUANTITY VARCHAR(16) NULL;


--2017年11月16日  15点28分 chenzj
ALTER TABLE T_BASE_DEPOT ADD DEL_FLAG CHAR(1) NOT NULL DEFAULT '1';
ALTER TABLE T_BASE_LOCATION ADD DEL_FLAG CHAR(1) NOT NULL DEFAULT '1';

--2017年11月17日  15点38分 chenzj
--周材改型类别
CREATE TABLE BM_REMODEL_TYPE
(
  CODE        VARCHAR(6) NOT NULL PRIMARY KEY,
  VALUE       VARCHAR(64) NOT NULL
);
INSERT INTO INIT_LOAD_TABLE VALUES('remodelType', 'BM_REMODEL_TYPE', 1, 1, 1, 'CODE', 'VALUE', 0, NULL, NULL, NULL, '改型类别',NULL, NULL, NULL,NULL, NULL, NULL);

--2017/11/17 XNZ
ALTER TABLE T_DISPATCH_MATERIALS ADD MATERIALS_STORE_ID BIGINT NULL;
ALTER TABLE T_DISPATCH_MATERIALS ALTER COLUMN SPECIFICATIONS_ID BIGINT NOT NULL;
INSERT INTO BM_RENT_TYPE VALUES('0', '出租出库');
INSERT INTO BM_RENT_TYPE VALUES('1', '调拨发货');

--2017年11月21日 15点19分 
--周材改型 chenzj
CREATE TABLE T_MATERIALS_REMODEL
(
	REMODEL_ID BIGINT IDENTITY PRIMARY KEY,
	APPLYFOR_STATE VARCHAR(2) NOT NULL,					--状态
	USER_ID BIGINT NOT NULL,
	USER_NAME VARCHAR(24) NOT NULL,						--制单人
	REMODEL_SERIAL VARCHAR(64) NULL,					--改型单号
	APPLY_DATE VARCHAR(24) NULL,						--单据日期
	ASSETS_PROPERTY VARCHAR(8) NULL,					--资产属性
	REMODEL_TYPE VARCHAR(32) NULL,						--改型类别
	DEPOT_ID BIGINT NULL,								--仓库
	PRODUCER_ID BIGINT NULL,							--
	PRODUCER VARCHAR(32) NULL,							--制作人员
	PRODUCATION_THEME VARCHAR(64) NULL,					--制作主题
	PLAN_FINISH_DATE VARCHAR(32) NULL,					--计划完成时间
	REMARK VARCHAR(128) NULL,							--备注
	DEL_FLAG CHAR(1) NOT NULL DEFAULT '1'
)
--改型前 chenzj
CREATE TABLE T_BEFORE_REMODEL 
(
	BEFORE_ID BIGINT IDENTITY PRIMARY KEY,
	REMODEL_ID BIGINT NOT NULL,							--改型id
	LOCATION_ID BIGINT NOT NULL,						--库位id
	SPECIFICATIONS_ID BIGINT NOT NULL,					--规格
	QUANTITY VARCHAR(12) NULL
)
--改型后 chenzj
CREATE TABLE T_AFTER_REMODEL 
(
	AFTER_ID BIGINT IDENTITY PRIMARY KEY,
	REMODEL_ID BIGINT NOT NULL,							--改型id
	LOCATION_ID BIGINT NOT NULL,						--库位id
	SPECIFICATIONS_ID BIGINT NOT NULL,					--规格
	QUANTITY VARCHAR(12) NULL
)

--2017年11月23日  17点48分
CREATE TABLE T_SCRAP_DETAIL 
(
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	RELATE_ID BIGINT NULL,
	RELATE_MODULE VARCHAR(32) NOT NULL,
	SPECIFICATIONS_ID BIGINT NOT NULL,
	SCRAP_NUM VARCHAR(24) NULL
)
ALTER TABLE T_SCRAP_APPLY ADD STORE_ID BIGINT NULL;
ALTER TABLE T_SCRAP_CONTRACT ALTER COLUMN PA_ENT_NAME VARCHAR(64) NULL;
ALTER TABLE T_SCRAP_CONTRACT ALTER COLUMN PB_ENT_NAME VARCHAR(64) NULL;

--2017/11/22 xnz 耗用产品(制作处理页签)
CREATE TABLE T_CONSUME_PRODUCT(
	CONSUME_ID			BIGINT IDENTITY PRIMARY KEY,
	HANDLE_ID			BIGINT,
	COMMODITY_ID		BIGINT NOT NULL,		
	COMMODITY			VARCHAR(64) NULL,		--周材名称
	SPECIFICATIONS_ID	BIGINT NOT NULL,
	SPECIFICATIONS	    VARCHAR(64) NULL,		--周材规格
	MNEMONICS			VARCHAR(64) NULL,		--周材编号
	MEASUREMENT_UNIT	VARCHAR(64) NULL,		--计量单位
	CONSUME_QUANTITY	VARCHAR(64) NULL,		--耗用数量
	QUANTITY			VARCHAR(32) NULL,		--仓库库存
	AUXILIARY_QUANTITY  VARCHAR(24) NULL;		--换算数量
	CONVERTED_QUANTITY 	VARCHAR(64) NULL,		--辅助数量
	EXIT_LOCATION_ID	BIGINT NOT NULL,		--库位id
	EXIT_LOCATION_NAME	VARCHAR(64) NOT NULL,	--出库库位
)

--2017年11月28日 11点27分   增加  附属单号  库位数量  转换系数
ALTER TABLE T_MATERIALS_REPAIR ADD AFFILIATED_SERIAL varchar(64) NULL;
ALTER TABLE T_BEFORE_MATERIALS_REPAIR ADD STORE_NUM VARCHAR(24) NULL;
ALTER TABLE T_BEFORE_MATERIALS_REPAIR ADD CONVERSION_NUM VARCHAR(16) NULL;
ALTER TABLE T_AFTER_MATERIALS_REPAIR ADD STORE_NUM VARCHAR(24) NULL;
ALTER TABLE T_AFTER_MATERIALS_REPAIR ADD CONVERSION_NUM VARCHAR(16) NULL;
ALTER TABLE T_BEFORE_MATERIALS_REPAIR ADD COMMODITY_ID BIGINT NULL;
ALTER TABLE T_AFTER_MATERIALS_REPAIR ADD COMMODITY_ID BIGINT NULL;

--2017/11/29 xnz 新增三个字段
ALTER TABLE T_MAKE_PRODUCT ADD AUXILIARY_QUANTITY VARCHAR(24) NULL;--换算数量
ALTER TABLE T_CONSUME_PRODUCT ADD AUXILIARY_QUANTITY VARCHAR(24) NULL;--换算数量
ALTER TABLE T_PRODUCT_MAKE ADD AUXILIARY_QUANTITY VARCHAR(24) NULL;--换算数量

--2017-11-30 chenzj
ALTER TABLE T_SCRAP_APPLY ADD LOCATION_ID BIGINT NULL;
ALTER TABLE T_SCRAP_CONTRACT ADD STORE_ID BIGINT NULL;
ALTER TABLE T_SCRAP_CONTRACT ADD LOCATION_ID BIGINT NULL;
ALTER TABLE T_SCRAP_HANDLE ADD STORE_ID BIGINT NULL;
ALTER TABLE T_SCRAP_HANDLE ADD LOCATION_ID BIGINT NULL;
sp_rename 'T_SCRAP_HANDLE.CONTRACT_DATE','APPLY_DATE';

--2017/12/06 xnz
ALTER TABLE T_ALLOCATION_DETAIL ADD AUXILIARY_QUANTITY VARCHAR(24) NULL;--辅助数量
ALTER TABLE T_ALLOCATION_DEPOT_DETAIL ADD SECOND_CONVERTED_QUANTITY VARCHAR(24) NULL;--换算数量
ALTER TABLE T_ALLOCATION_DEPOT_DETAIL ADD AUXILIARY_QUANTITY VARCHAR(24) NULL;--辅助数量

--周材出库查询	2017-12-04	Chen·G·Y
CREATE TABLE T_MATERIALS_OUT_STOCK(
	OUT_ID	BIGINT IDENTITY PRIMARY KEY,
	COMMODITY	VARCHAR(64) NULL,				--品名 
	SPECIFICATIONS	VARCHAR(64) NULL,			--规格
	UNIT	VARCHAR(64) NULL,					--单位
	QUANTITY	VARCHAR(64) NULL,				--数量
	AUXILIARY_QUANTITY	VARCHAR(64) NULL,		--辅助数量
	OUT_DATE	VARCHAR(64) NULL,				--出库时间
	OUT_TYPE	VARCHAR(64) NULL,				--出库类型
	LOCATION_ID	BIGINT NULL,					--库位ID
	LOCATION_NAME	VARCHAR(64) NULL,			--库位
	DEPOT_ID	BIGINT NULL,					--仓库ID
	DEPOT_NAME	VARCHAR(64) NULL,				--仓库
	RELATE_BUSINESS	VARCHAR(64) NULL,			--关联业务
	SERIAL	VARCHAR(64) NULL,					--单据号
	REMARK	VARCHAR(64) NULL					--备注
)

--周材入库查询	2017-12-04	Chen·G·Y
CREATE TABLE T_MATERIALS_IN_STOCK(
	IN_ID	BIGINT IDENTITY PRIMARY KEY,
	COMMODITY	VARCHAR(64) NULL,				--品名 
	SPECIFICATIONS	VARCHAR(64) NULL,			--规格
	UNIT	VARCHAR(64) NULL,					--单位
	QUANTITY	VARCHAR(64) NULL,				--数量
	AUXILIARY_QUANTITY	VARCHAR(64) NULL,		--辅助数量
	IN_DATE	VARCHAR(64) NULL,					--出库时间
	IN_TYPE	VARCHAR(64) NULL,					--出库类型
	LOCATION_ID	BIGINT NULL,					--库位ID
	LOCATION_NAME	VARCHAR(64) NULL,			--库位
	DEPOT_ID	BIGINT NULL,					--仓库ID
	DEPOT_NAME	VARCHAR(64) NULL,				--仓库
	RELATE_BUSINESS	VARCHAR(64) NULL,			--关联业务
	SERIAL	VARCHAR(64) NULL,					--单据号
	REMARK	VARCHAR(64) NULL					--备注
)

--2017/12/07 xnz
ALTER TABLE T_HANDLE_MAKE ADD TEAM_ID BIGINT;--制作班组ID
ALTER TABLE T_HANDLE_MAKE ADD TEAM_NAME VARCHAR(64) NULL;--制作班组

--2017/12/11 XNZ
ALTER TABLE T_MATERIALS_DISPATCH ADD REMARK VARCHAR(256) NULL;

--2017/12/12 chenzj
ALTER TABLE T_COMPENSATION_DAMAGE ALTER COLUMN RECYCLE_ID BIGINT NULL;
ALTER TABLE T_RECYCLE_MANAGE_FEE ALTER COLUMN RECYCLE_ID BIGINT NULL;

--2017-12-13 chenzj
--项目出入库查询
CREATE TABLE T_PROJECT_DEPOT_IN_OUT 
(
	QUERY_ID BIGINT IDENTITY PRIMARY KEY,		--主键id
	SPECIFICATIONS_ID BIGINT NOT NULL,			--规格Id
	SPECIFICATIONS VARCHAR(64) NULL,			--规格
	COMMODITY VARCHAR(64) NULL,					--品名
	UNIT VARCHAR(16) NULL,						--单位
	QUANTITY INT NOT NULL,						--数量
	SUPPLEMENT_QUANTITY VARCHAR(24) NULL,		--辅助数量
	OPERATION_WAY VARCHAR(32) NULL,				--出入库方式	
	CONTRACT_ID	BIGINT NOT NULL,				--合同id
	RELATE_ID BIGINT NOT NULL,					--关联模块id
	RELATE_MODULE VARCHAR(32) NULL,				--关联模块
	RELATE_MODULE_NAME VARCHAR(32) NULL,		--关联模块名称
	RELATE_SERIAL VARCHAR(64) NULL,				--关联模块编号
	PROJECT_ID BIGINT NULL,						--项目id
	PROJECT_NAME VARCHAR(128) NULL,				--项目名称
	OPERATION_DATE VARCHAR(64) NULL				--时间
)

--2017-12-17 chenzj
--项目仓库初始化增加 合同id 并同步
ALTER TABLE T_PROJECT_DEPOT_INIT ADD CONTRACT_ID BIGINT NOT NULL;
UPDATE D SET D.CONTRACT_ID= C.CONTRACTMA_ID FROM T_PROJECT_DEPOT_INIT D,(SELECT A.PROJECT_INIT_ID,B.CONTRACTMA_ID from T_PROJECT_DEPOT_INIT a,T_CONTRACT_MATERIALS b where A.DEL_FLAG = '1' AND B.DEL_FLAG = '1' AND a.CONTRACT_SERIAL = b.CONTRACT_SERIAL and a.PROJECT_ID=B.PROJECT_ID) C WHERE C.PROJECT_INIT_ID=D.PROJECT_INIT_ID;

ALTER TABLE T_MATERIALS_REPAIR ADD USER_ID BIGINT NULL;
ALTER TABLE T_MATERIALS_REPAIR ADD USER_NAME VARCHAR(16) NULL;

--2017/12/27 xnz 盘点管理页签（盘点明细） 
CREATE TABLE T_BALDETAIL(
	BALDETAIL_ID				BIGINT IDENTITY PRIMARY KEY,
	TAKE_STOCK_ID				BIGINT,
	MNEMONIC_CODE				VARCHAR(64) NULL,					--助记码
	COMMODITY_ID				BIGINT,								--品名id
	COMMODITY					VARCHAR(64) NULL,					--品名
	SPECIFICATIONS_ID			BIGINT,								--规格id
	SPECIFICATIONS				VARCHAR(64) NULL,					--规格
	FIRST_UNIT_CONVERSION		VARCHAR(64) NULL,					--单位
	BOOK_INVENTORY				VARCHAR(32) NULL,					--账面库存
	FIRMOFFER_INVENTORY			VARCHAR(32) NULL,					--实盘库存
	AMOUNT_PRO_LOSS				VARCHAR(32) NULL,					--盈亏量
	LOCATION_ID					BIGINT,								--库位id
	LOCATION_NAME				VARCHAR(64) NULL,					--库位名称
	MATERIALS_STORE_ID			BIGINT,								--仓库库存表id
	SECOND_CONVERTED_QUANTITY 	VARCHAR(24) NULL,					--换算数量
	AUXILIARY_QUANTITY			VARCHAR(24) NULL,					--辅助数量
)
DROP TABLE T_TAKE_STOCK;
--2017/12/29 盘点管理 xnz
CREATE TABLE T_TAKE_STOCK
(
	TAKE_STOCK_ID BIGINT IDENTITY PRIMARY KEY,
	INVOICES_SERIAL VARCHAR(32)  NULL,			--单据编号（PD+年月日+2位流水号）
	USER_ID		BIGINT NULL,					--制单人ID
  	USER_NAME	VARCHAR(32) NULL,				--制单人名称
	TAKE_STOCK_DATE VARCHAR(64)NULL,			--盘点日期
	STORE_ID		BIGINT,						--仓库id
	STORE_NAME 		VARCHAR(64) NULL,			--仓库名称
	APPLYFOR_STATE	CHAR(1) NOT NULL DEFAULT 0,	--审批状态
	REMARK			VARCHAR(128) NULL,			--备注
	DEL_FLAG        CHAR(1) NOT NULL DEFAULT 1,
	LOCATION_ID		BIGINT,						--库位id
	LOCATION_NAME	VARCHAR(64) NULL,			--库位名称
)


--2018年1月3日15:03:40  chenzj
ALTER TABLE T_ATTACHMENT_STORAGE ADD REMARK VARCHAR(128) NULL;=======

--2018/01/03 XNZ 其他出入库模块新增字段
ALTER TABLE T_OTHER_MATERIAL_STOCK ADD STORE_ID BIGINT;--仓库id
ALTER TABLE T_OTHER_MATERIAL_STOCK ADD LOCATION_ID BIGINT;--库位id
ALTER TABLE T_APPLICATION_DETAIL ADD MATERIALS_STORE_ID BIGINT;--仓库库存表id
ALTER TABLE T_APPLICATION_DETAIL ADD COMMODITY_ID BIGINT;--品名id	
ALTER TABLE T_APPLICATION_DETAIL ADD SPECIFICATIONS_ID BIGINT;--规格id
ALTER TABLE T_APPLICATION_DETAIL ADD LOCATION_ID BIGINT;--库位id
ALTER TABLE T_APPLICATION_DETAIL ADD LOCATION_NAME VARCHAR(32) NULL;--库位名称
ALTER TABLE T_APPLICATION_DETAIL ADD QUANTITY VARCHAR(32) NULL;--库存数量
ALTER TABLE T_APPLICATION_DETAIL ADD SECOND_CONVERTED_QUANTITY VARCHAR(32) NULL;--换算数量

--2018年1月11日18:00:57 chenzj
ALTER TABLE T_AUTOCRANE_FEE ADD REMARK VARCHAR(128) NULL;		--备注

--2018年1月22日15:51:29 chenzj
ALTER TABLE T_SETTLEMENT_LIST ADD BEGIN_DATE VARCHAR(16) NULL;		
ALTER TABLE T_SETTLEMENT_LIST ADD STOP_DATE VARCHAR(16) NULL;	
ALTER TABLE T_SETTLEMENT_LIST ADD RELATE_SERIAL VARCHAR(64) NULL;	
ALTER TABLE T_SETTLEMENT_LIST ADD TOTAL_RENT VARCHAR(16) NULL;	

--租借维修	Chen·G·Y 2017/01/22
CREATE TABLE T_LEASE_REPAIR(
	REPAIR_ID BIGINT IDENTITY PRIMARY KEY,
	REPAIR_SERIAL VARCHAR(24) NOT NULL,			--维修编号
	USER_ID BIGINT NOT NULL,					--填报人ID
	USER_NAME VARCHAR(24) NOT NULL,				--填报人
	FILL_DATE CHAR(19) NOT NULL,				--填报日期
	LEASE_ID BIGINT NOT NULL,					--租借合同
	REPAIR_THEME VARCHAR(64) NOT NULL,			--维修主题
	REPAIR_DATE CHAR(10) NOT NULL,				--维修日期
	DEP_ID BIGINT NOT NULL,						--主管部门ID
	DEP_NAME VARCHAR(64) NOT NULL,				--主管部门
	STATUS CHAR(1) NOT NULL,					--状态
	REMARK VARCHAR(128) NULL					--备注
)
--维修后(租借维修子表)	Chen·G·Y 2017/01/22
CREATE TABLE T_LEASE_REPAIR_BEFORE(
	 BEFORE_ID BIGINT IDENTITY PRIMARY KEY,
	 REPAIR_ID BIGINT NULL,						--主表ID
	 SPECIFICATIONS_ID BIGINT NOT NULL,			--周材信息
	 REPAIR_QUANTITY VARCHAR(24) NOT NULL,		--维修数量
	 REPERTORY_QUANTITY VARCHAR(24) NOT NULL,	--库存数量
	 ASSIST_QUANTITY VARCHAR(24) NOT NULL		--辅助数量
)
--维修前(租借维修子表)	Chen·G·Y 2017/01/22
CREATE TABLE T_LEASE_REPAIR_AFTER(
	AFTER_ID BIGINT IDENTITY PRIMARY KEY,
	REPAIR_ID BIGINT NULL,						--主表ID
	SPECIFICATIONS_ID BIGINT NOT NULL,			--周材信息
	REPAIR_QUANTITY VARCHAR(24) NOT NULL,		--维修数量
	ASSIST_QUANTITY VARCHAR(24) NOT NULL		--辅助数量
)

--项目维修	Chen·G·Y 2017/01/22
CREATE TABLE T_PROJECT_REPAIR(
	REPAIR_ID BIGINT IDENTITY PRIMARY KEY,
	REPAIR_SERIAL VARCHAR(24) NOT NULL,			--维修编号
	USER_ID BIGINT NOT NULL,					--填报人ID
	USER_NAME VARCHAR(24) NOT NULL,				--填报人
	FILL_DATE CHAR(19) NOT NULL,				--填报时间
	CONTRACTMA_ID BIGINT NOT NULL,				--周材合同
	REPAIR_THEME VARCHAR(64) NOT NULL,			--维修主题
	REPAIR_DATE CHAR(10) NOT NULL,				--维修日期
	DEP_ID BIGINT NOT NULL,						--主管部门ID
	DEP_NAME VARCHAR(64) NOT NULL,				--主管部门
	STATUS CHAR(1) NOT NULL,					--状态
	REMARK VARCHAR(128) NULL					--备注
)
--维修后(项目维修子表)	Chen·G·Y 2017/01/22
CREATE TABLE T_PROJECT_REPAIR_BEFORE(
	 BEFORE_ID BIGINT IDENTITY PRIMARY KEY,
	 REPAIR_ID BIGINT NULL,						--主表ID
	 SPECIFICATIONS_ID BIGINT NOT NULL,			--周材信息
	 REPAIR_QUANTITY VARCHAR(24) NOT NULL,		--维修数量
	 REPERTORY_QUANTITY VARCHAR(24) NOT NULL,	--库存数量
	 ASSIST_QUANTITY VARCHAR(24) NOT NULL		--辅助数量
)
--维修前(项目维修子表)	Chen·G·Y 2017/01/22
CREATE TABLE T_PROJECT_REPAIR_AFTER(
	AFTER_ID BIGINT IDENTITY PRIMARY KEY,
	REPAIR_ID BIGINT NULL,						--主表ID
	SPECIFICATIONS_ID BIGINT NOT NULL,			--周材信息
	REPAIR_QUANTITY VARCHAR(24) NOT NULL,		--维修数量
	ASSIST_QUANTITY VARCHAR(24) NOT NULL		--辅助数量
)

--CHENZJ  2018年2月5日14:38:55  
ALTER TABLE T_DISPATCH_COMPON ADD REMARK VARCHAR(64) NULL;
ALTER TABLE T_DISPATCH_EQUIP ADD REMARK VARCHAR(64) NULL;

--CHENZJ  2018年2月23日14:38:55  
ALTER TABLE T_SETTLE_MATERIALS ALTER COLUMN CONTRACT_THEME VARCHAR(128) NULL
ALTER TABLE T_SETTLE_MATERIALS ADD BACK_OFF VARCHAR(8) NULL

--租借丢失赔偿管理
CREATE TABLE T_LEASED_LOST_COMPENSATION
(
  LOST_ID BIGINT IDENTITY PRIMARY KEY,			--丢失赔偿id
  APPLYFOR_STATE VARCHAR(8) NOT NULL,			--状态
  LOST_SERIAL VARCHAR(64) NOT NULL,				--丢失单号
  USER_ID BIGINT NOT NULL,						--制单人id
  USER_NAME VARCHAR(16) NOT NULL,				--制单人
  APPLY_DATE VARCHAR(16) NOT NULL,				--制单日期
  LEASE_ID BIGINT NOT NULL,						--合同id
  CONTRACT_SERIAL VARCHAR(64) NOT NULL,			--合同编号
  PROJECT_NAME VARCHAR(64) NULL,				--项目名称
  PA_ENT_NAME VARCHAR(64) NULL,					--承租单位
  COMPENSATION_DATE VARCHAR(24) NULL,			--丢失赔偿日期
  TOTAL_COMPENSATION VARCHAR(16) NULL,			--赔偿总额
  LOST_THEME VARCHAR(64) NULL,					--主题
  RECHECK_DATE VARCHAR(16) NULL,				--复核日期
  RECHECK_MAN VARCHAR(16) NULL,					--复核人
  CHECK_DATE VARCHAR(32) NULL,					--审核日期  
  CHECK_MAN VARCHAR(16) NULL,					--审核人
  EXPLAIN VARCHAR(128) NULL,					--丢失说明
  DEL_FLAG VARCHAR(2) NOT NULL DEFAULT 1,		--删除标识
  CONTRACT_NUMBER VARCHAR(64) NULL,				--合同流水号
  ADDRESS VARCHAR(128) NULL						--项目地址
)
--租借丢失管理明细
CREATE TABLE T_LEASED_LOST_COMPENSATION_DETAIL
(
  DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
  LOST_ID BIGINT NOT NULL,						--丢失赔偿id
  COMMODITY VARCHAR(32) NOT NULL,				--品名
  MNEMONICS VARCHAR(16) NOT NULL,				--助记码
  SPECIFICATIONS VARCHAR(32) NOT NULL,			--规格
  UNIT VARCHAR(16) NULL,						--单位
  OWE_QUANTITY VARCHAR(8) NULL,					--欠收数量（自动引自该合同项目库存数）
  LOST_QUANTITY VARCHAR(8) NULL,				--丢失数量（手输）
  SUPPLEMENT_UNIT VARCHAR(16) NULL,				--辅助单位
  SUPPLEMENT_QUANTITY VARCHAR(16) NULL,			--辅助丢失数量（根据丢失数量和基础设置的换算系数自动计算）
  COMPENSATION_COSTS VARCHAR(16) NOT NULL,		--赔偿单价
  TOTAL_COSTS VARCHAR(16) NULL,					--赔偿金额
  SPECIFICATIONS_ID BIGINT NOT NULL,			--规格id
  CONVERSION_NUM VARCHAR(16) NULL 				--换算系数
)
--chenzj 2018年3月7日10:13:51 
ALTER TABLE T_LEASED_LOST_COMPENSATION ADD PROJECT_ID BIGINT NOT NULL DEFAULT -1

--chenzj 2018年3月9日14:53:16
--内部结算
CREATE TABLE T_INSIDE_SETTLEMENT_LIST(
	INSIDE_ID	BIGINT IDENTITY PRIMARY KEY,	
	SETTLEMENT_ID	BIGINT NULL,			
	COMMODITY_ID	BIGINT	NOT	NULL,		--周材ID
	COMMODITY VARCHAR(64) NOT NULL,			--周材品名
	SPECIFICATIONS_ID	BIGINT	NOT	NULL,	--规格ID
	SPECIFICATIONS VARCHAR(64) NOT NULL,	--规格
	RECEIPT_DATE	CHAR(19) NULL,			--单据日期
	RECEIPT_TYPE	VARCHAR(24)	NULL,		--单据类型
	MNEMONICS VARCHAR(12) NULL,				--代码编号
	QUANTITY VARCHAR(12) NULL,				--数量
	AUXILIARY_NUM VARCHAR(12) NULL,			--辅助数量
	DAILY_RENT	VARCHAR(12) NULL,			--日租金
	MEASUREMENT_UNIT VARCHAR(24) NULL,		--计量单位
	UNIT_CONVERSION VARCHAR(12) NULL,		--换算单位
	CONVERTED_QUANTITY VARCHAR(12) NULL,	--换算数量
	CONVERSION_DAYS	VARCHAR(12) NULL,		--换算天数
	AMOUNT	VARCHAR(12) NULL,				--金额
	BEGIN_DATE VARCHAR(20) NULL,
	STOP_DATE VARCHAR(20) NULL,
	RELATE_SERIAL VARCHAR(64) NULL,
	TOTAL_RENT VARCHAR(16) NULL				--累计在租数量
)

--2018年3月12日10:01:56 chenzj
--租借丢失赔偿清单（租借结算）
CREATE TABLE T_LEASED_LOST_DETAIL (
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,	
	SETTLEMENT_ID BIGINT NULL,				--租借结算id
	RECEIPT_DATE VARCHAR(20) NOT NULL,		--赔偿日期
	RELATE_SERIAL VARCHAR(64) NOT NULL,		--关联编号
	RECEIPTS_TYPE VARCHAR(20) NULL,	
	COMMODITY VARCHAR(20) NOT NULL,			--品名
	SPECIFICATIONS VARCHAR(16) NOT NULL,	--规格
	UNIT VARCHAR(16) NOT NULL,				--单位
	QUANTITY VARCHAR(16) NOT NULL,			--数量
	SUPPLEMENT_QUANTITY VARCHAR(20) NULL,	--辅助数量
	SUPPLEMENT_UNIT VARCHAR(20) NULL,		--辅助单位
	COMPENSATION_UNIT VARCHAR(10) NULL,		--赔偿单价
	AMOUNT VARCHAR(20) NULL					--金额
)

--chenzj 2018年3月15日08:57:08
ALTER TABLE T_OTHER_BETS_DETAIL ADD REMARK VARCHAR(128) NULL				--备注
ALTER TABLE T_EQUIPMENT_BLOCKUP ADD DEL_FLAG CHAR(1) NOT NULL DEFAULT '1'		--删除标识
ALTER TABLE T_LEASE_SETTLEMENT ADD INSIDE_SETTLEMENT_AMOUNT VARCHAR(24) NULL		--内部结算金额

--chenzj 2018年3月21日16:40:54
ALTER TABLE T_LOGISTICS_TRANSPORT ADD ORIGINAL_SERIAL VARCHAR(64) NULL;			--原单据号
ALTER TABLE T_COMPON_INTOSTORE ADD ORIGINAL_SERIAL VARCHAR(64) NULL;				--原单据号
ALTER TABLE T_COMPON_INTOSTORE ADD LICENSE_PLATE VARCHAR(32) NULL;					--车号
ALTER TABLE T_COMPON_INTOSTORE ADD DRIVER VARCHAR(24) NULL;								--运输人员
ALTER TABLE T_COMPON_INTOSTORE ADD REMARK VARCHAR(256) NULL;							--备注

--chenzj 2018年3月22日09:37:10
ALTER TABLE T_SETTLE_MATERIALS ALTER COLUMN PROJECT_NAME VARCHAR(128) NULL;
ALTER TABLE T_SETTLE_MATERIALS ALTER COLUMN PA_ENT_NAME VARCHAR(64) NULL;
ALTER TABLE T_SETTLE_MATERIALS ALTER COLUMN PB_ENT_NAME VARCHAR(64) NULL;

--chenzj 2018年3月23日09:33:29
--回收管理-暂存清单
CREATE TABLE T_TEMPORARY_STORAGE
(
	TEMPORARY_ID BIGINT IDENTITY PRIMARY KEY,
	RECYCLE_ID BIGINT NOT NULL,						--回收id
	MNEMONICS VARCHAR(16) NOT NULL,					--助记码
	COMMODITY_ID BIGINT NOT NULL,
	COMMODITY VARCHAR(24) NOT NULL,					--品名
	SPECIFICATIONS_ID BIGINT NOT NULL,
	SPECIFICATIONS VARCHAR(16) NOT NULL,			--规格
	UNIT VARCHAR(16) NULL,							--单位
	TEMPORARY_QUANTITY VARCHAR(16) NULL,			--入库数量
	SUPPLEMENT_UNIT VARCHAR(16) NULL,				--辅助单位
	SUPPLEMENT_QUANTITY VARCHAR(16) NULL,			--辅助数量
	REMARK VARCHAR(128) NULL						--备注
)

--chenzj 2018年4月2日09:08:55
--泵车类型
CREATE TABLE BM_PUMP_TYPE
(
  CODE        VARCHAR(6) NOT NULL PRIMARY KEY,
  VALUE       VARCHAR(64) NOT NULL
);
--泵车型号
CREATE TABLE BM_PUMP_NUMBER
(
  CODE        VARCHAR(6) NOT NULL PRIMARY KEY,
  VALUE       VARCHAR(64) NOT NULL
);
INSERT INTO INIT_LOAD_TABLE VALUES('pumpType', 'BM_PUMP_TYPE', 1, 1, 1, 'CODE', 'VALUE', 0, NULL, NULL, NULL, '泵车类型',NULL, NULL, NULL,NULL, NULL, NULL);
INSERT INTO INIT_LOAD_TABLE VALUES('pumpNumber', 'BM_PUMP_NUMBER', 1, 1, 1, 'CODE', 'VALUE', 0, NULL, NULL, NULL, '泵车型号',NULL, NULL, NULL,NULL, NULL, NULL);

--泵车档案
CREATE TABLE T_PUMP_TRUCK (
	PUMP_ID BIGINT IDENTITY PRIMARY KEY,			--泵车Id
	LICENSE_PLATE VARCHAR(32) NOT NULL,				--车牌号
	PUMP_TYPE VARCHAR(4) NOT NULL,					--泵车类型
	PUMP_NUMBER VARCHAR(4) NOT NULL,				--泵车型号
	RELEASE_DATE VARCHAR(24) NOT NULL,				--出厂日期
	ISSUING_AUTHORITY VARCHAR(64) NULL,				--发证机关
	VEHICLE_PERMIT VARCHAR(64) NULL,				--车辆通行证信息
	EXPIRATION_DATE VARCHAR(24) NULL,				--到期时间
	REMARK VARCHAR(128) NULL,						--备注
	DEL_FLAG VARCHAR(2) NOT NULL
)	

--暂存退货 模块
CREATE TABLE T_TEMPORARY_RETURN (
	RETURN_ID BIGINT IDENTITY PRIMARY KEY,			
	USER_ID BIGINT NOT NULL,						--制单人
	USER_NAME VARCHAR(24) NULL,						--制单人
	RETURN_SERIAL VARCHAR(64) NULL,					--退货单号
	APPLYFOR_STATE VARCHAR(4) NOT NULL,				--审批状态
	CONTRACT_ID BIGINT NOT NULL,					--关联合同
	LICENSE_PLATE VARCHAR(64) NULL,					--车牌号
	DRIVER VARCHAR(24) NULL,						--运输人员
	DEPOT_ID BIGINT NOT NULL,						--仓库id
	DEPOT_NAME VARCHAR(64) NULL,					--仓库名称
	PROJECT_ID BIGINT NOT NULL,						--项目id
	PROJECT_NAME VARCHAR(128) NULL,					--项目名称
	APPLY_DATE VARCHAR(24) NULL,					--制单日期
	PACKAGE_DATE VARCHAR(24) NULL,					--装车日期
	DELIVERY_MAN VARCHAR(24) NULL,					--收发人员
	AFFILIATED_SERIAL VARCHAR(64) NULL,				--附属单据号
	DEL_FLAG VARCHAR(2) NOT NULL					--删除标识
)
--暂存清单（暂存退货）
CREATE TABLE T_TEMPORARY_RETURN_DETAIL (
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	RETURN_ID BIGINT NOT NULL,						--退货id
	MNEMONICS VARCHAR(24) NULL,						--助记码
	COMMODITY_ID BIGINT NOT NULL,					--品名id
	COMMODITY VARCHAR(32) NOT NULL,					--品名
	SPECIFICATIONS_ID BIGINT NOT NULL,				--规格id
	SPECIFICATIONS VARCHAR(64) NOT NULL,			--规格
	UNIT VARCHAR(32) NOT NULL,						--单位
	RETURN_QUANTITY VARCHAR(32) NULL,				--数量
	SUPPLEMENT_UNIT VARCHAR(32) NULL,				--辅助单位
	SUPPLEMENT_QUANTITY VARCHAR(32) NULL,			--辅助数量
	CONVERSION_NUM VARCHAR(32) NULL,				--转换系数
	REMARK VARCHAR(128) NULL						--备注
)
--费用处理（暂存退货）
CREATE TABLE T_CHARGE_HANDLE (
	HANDLE_ID BIGINT IDENTITY PRIMARY KEY,
	RETURN_ID BIGINT NOT NULL,
	COMMODITY VARCHAR(32) NOT NULL,					--品名
	FEES_TYPE VARCHAR(4) NOT NULL,					--收费类型
	FEES_TYPE_NAME VARCHAR(24) NULL,
	CHARGE_UNIT_PRICE VARCHAR(24) NULL,				--收费单价
	CHARGE_QUANTITY VARCHAR(24) NULL,				--收费数量
	CHARGE_AMOUNT VARCHAR(32) NULL,					--收费金额
	CHARGE_MODE VARCHAR(4) NULL,					--收费方式
	LEASE_AMOUNT VARCHAR(32) NULL,					--计租金额
	FEE_CATEGORY VARCHAR(32) NULL					--收费类别
)
--暂存库存
CREATE TABLE T_RETURN_TEMP_STORE 
(
	TEMP_ID BIGINT IDENTITY PRIMARY KEY,				--库存id
	DEPOT_ID BIGINT NOT NULL,							--仓库id
	DEPOT_NAME VARCHAR(64) NOT NULL,					--仓库
	SPECIFICATIONS_ID BIGINT NOT NULL,					--周材规格Id
	QUANTITY INT NULL									--数量
)

--暂存退货  增加字段  暂存库存
ALTER TABLE T_TEMPORARY_RETURN_DETAIL ADD TEMPORARY_QUANTITY VARCHAR(24) NULL

--回收管理 添加字段 包装费用   --2018年4月11日18:19:08   chenzj
ALTER TABLE T_RECYCLE_MANAGE ADD PACKAGE_CHARGE VARCHAR(24) NULL

--修改“考勤模块” 用到的两个SQL Function（计算工作天数）（参数由 输入年月yyyyMM 改为 日期区间yyyyMMdd--yyyyMMdd ）
--chenzj  2018年4月27日10:10:06
ALTER FUNCTION [dbo].[F_GETWORKDAYS](@ymds varchar(20),@ymde varchar(20)) 
returns int
AS 
	BEGIN 
	DECLARE @s datetime,
			@weekdaycount int,
			@flg int,
			@yn int,
			@wk varchar(5) 
			
	set @s=@ymds
	set @weekdaycount = 0
	while @s<=@ymde
    begin
		set @flg = datepart(weekday,@s)
		if @flg=1 begin set @wk = 'sun' end
		else if @flg=2 begin set @wk = 'mon' end
		else if @flg=3 begin set @wk = 'tue' end
		else if @flg=4 begin set @wk = 'web' end
		else if @flg=5 begin set @wk = 'thu' end
		else if @flg=6 begin set @wk = 'fri' end
		else if @flg=7 begin set @wk = 'sat' end		
		
		set @yn = (select count(*) from dbo.T_ATTENDAMCE_SET where WORK_DAYS like '%'+@wk+'%' AND STATE=1)
        if @yn = 1
        begin
			set @weekdaycount = @weekdaycount+1
		end	
        set @s=dateadd(day,1,@s)
    end	
return @weekdaycount  
END
-----------------
ALTER FUNCTION [dbo].[F_GETNOSGMAN](@bgDATE varchar(10),@edDate varchar(10)) 
returns int
AS 
	BEGIN 
	declare @userId int,@times int;
	declare @workdays int,@rtnValue int;
	set @workdays = dbo.F_GETWORKDAYS(@bgDATE,@edDate)*2;
	set @rtnValue = 0;
	declare curr1 cursor
	for select a.USERID from dbo.APP_USER a where a.DELFLAG=0 and USERNAME not in('system','admin') 
	open curr1;
	fetch curr1 into @userId;
	while (@@fetch_status=0)
	begin
		set @times = (select SUM(t.sg_sum) from dbo.T_ATTENDAMCE t where t.SG_DATE>=@bgDATE and t.SG_DATE<=@edDate and t.USERID=@userId);
		if @workdays>@times or @times is null
		begin
			set @rtnValue = @rtnValue +1;
		end
		fetch next from curr1 into @userId;
	end
	close curr1;
	deallocate curr1;
	
return @rtnValue
END

--新增 SQL FUNCTION  "Split"  作用 拆分多个ID组成的字符串（"12,13,14,15"  --> 12 13 14 15）
CREATE Function [dbo].[Split](@Sql varchar(8000),@Splits varchar(10))
returns @temp Table (a varchar(100))
As
Begin
Declare @i Int
Set @Sql = RTrim(LTrim(@Sql))
Set @i = CharIndex(@Splits,@Sql)
While @i >= 1
Begin
Insert @temp Values(Left(@Sql,@i-1))
Set @Sql = SubString(@Sql,@i+1,Len(@Sql)-@i)
Set @i = CharIndex(@Splits,@Sql)
End
If @Sql <> ''
Insert @temp Values (@Sql)
Return
End

--2018年5月11日15:02:37   chenzj
--用户授权合同表
CREATE TABLE T_CONTRACT_JOIN_USER (
	JOIN_ID BIGINT IDENTITY PRIMARY KEY,
	USER_ID BIGINT NOT NULL,
	CONTRACT_ID BIGINT NOT NULL,
	RELATE_MODULE VARCHAR(32) NOT NULL
)

--2018年5月11日17:46:35   chenzj
--表码  其他业务 收费类型
CREATE TABLE BM_FEES_TYPE
(
  CODE        VARCHAR(6) NOT NULL PRIMARY KEY,
  VALUE       VARCHAR(64) NOT NULL
);
INSERT INTO INIT_LOAD_TABLE VALUES('feesType', 'BM_FEES_TYPE', 1, 1, 1, 'CODE', 'VALUE', 0, NULL, NULL, NULL, '其他业务收费类型',NULL, NULL, NULL,NULL, NULL, NULL);
INSERT INTO BM_FEES_TYPE VALUES('1','装车费');
INSERT INTO BM_FEES_TYPE VALUES('2','卸车费');
INSERT INTO BM_FEES_TYPE VALUES('3','打包费');

--周材合同添加关联用户id （项目用户）
ALTER TABLE T_CONTRACT_MATERIALS ADD USER_ID BIGINT NULL

--2018年6月1日14:10:56  丢失管理明细增加 commodityId
ALTER TABLE T_LOST_COMPENSATION_DETAIL ADD COMMODITY_ID BIGINT NULL;

--2018年6月2日14:33:58 租借合同增加删除标识  delFlag
ALTER TABLE T_LEASE_CONTRACT ADD DEL_FLAG CHAR(1) NOT NULL DEFAULT 1

--2018年6月4日11:08:46 增加删除标识  delFlag
ALTER TABLE T_GOODS_RECIPIENT ADD DEL_FLAG CHAR(1) NOT NULL DEFAULT 1
ALTER TABLE T_RETURN_GOODS ADD DEL_FLAG CHAR(1) NOT NULL DEFAULT 1

--2018年6月7日17:12:57  暂存退货增加字段  contractId
ALTER TABLE T_RETURN_TEMP_STORE ADD CONTRACT_ID BIGINT NULL;

--2018年6月8日15:26:15  chenzj
--周材报停管理
CREATE TABLE T_CEASE_REPORT (
	CEASE_ID BIGINT IDENTITY PRIMARY KEY,
	CEASE_SERIAL VARCHAR(64) NULL,
	USER_ID BIGINT NOT NULL,
	USER_NAME VARCHAR(24) NULL,
	STATUS VARCHAR(1) NOT NULL,
	CONTRACT_ID BIGINT NOT NULL,
	CEASE_TITLE VARCHAR(64) NULL,
	START_DATE VARCHAR(10) NULL,
	END_DATE VARCHAR(10) NULL,
	APPLY_DATE VARCHAR(10) NULL,
	SETTLED_AMOUNT VARCHAR(20) NULL,
	FINISH_AMOUNT VARCHAR(20) NULL,
	BACK_OFF VARCHAR(1) NOT NULL,
	TRANSPORT_CACULATE_TYPE VARCHAR(1) NOT NULL,
	CACULATE_RULE VARCHAR(1) NOT NULL,
	DEL_FLAG VARCHAR(1) NOT NULL
)
--周材报停管理清单
CREATE TABLE T_CEASE_REPORT_DETAIL (
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	CEASE_ID BIGINT NOT NULL,
	ITEM VARCHAR(24) NULL,
	AMOUNT VARCHAR(24) NULL
)
--2018-6-28 09:30:45  chenzj  扩展字段长度
ALTER TABLE T_MATERIALS_OUT_STOCK ALTER COLUMN REMARK VARCHAR(128) NULL;
ALTER TABLE T_MATERIALS_IN_STOCK ALTER COLUMN REMARK VARCHAR(128) NULL;

--2018-7-9 15:01:27  chenzj  增加删除标识
ALTER TABLE T_LEASE_SETTLEMENT ADD DEL_FLAG CHAR(1) NULL;
ALTER TABLE T_LEASE_REPAIR ADD DEL_FLAG CHAR(1) NULL;

--2018年7月18日18:55:11 chenzj  其他业务详情 字段设为不为空
ALTER TABLE T_OTHER_BUSINESS_DETAIL ALTER COLUMN FEES_TYPE VARCHAR(6) NOT NULL
ALTER TABLE T_OTHER_BUSINESS_DETAIL ALTER COLUMN CALCULATION_METHOD VARCHAR(6) NOT NULL


--2018-7-20 17:09:40 报废管理  增加字段 chenzj
ALTER TABLE T_SCRAP_APPLY ADD SCRAP_THEME VARCHAR(128) NULL;		--报废主题
ALTER TABLE T_SCRAP_CONTRACT ADD CONTRACT_THEME VARCHAR(128) NULL;		--合同主题
ALTER TABLE T_SCRAP_DETAIL ADD TONNAGE VARCHAR(16) NULL;			--吨位
ALTER TABLE T_SCRAP_DETAIL ADD UNIT_PRICE VARCHAR(12) NULL;			--单价
ALTER TABLE T_SCRAP_DETAIL ADD SUMMARY VARCHAR(24) NULL;			--合同金额

--2018-7-23 16:15:33  chenzj   周材结算增长字段
ALTER TABLE T_SETTLE_MATERIALS ALTER COLUMN SETTLE_DEP_NAME VARCHAR(64) NULL

--2018-8-2 11:42:59 chenzj 
--租借报停
CREATE TABLE T_LEASE_BLOCK_UP (
	BLOCK_ID BIGINT IDENTITY PRIMARY KEY,
	BLOCK_SERIAL VARCHAR(64) NULL,
	USER_ID BIGINT NOT NULL,
	USER_NAME VARCHAR(24) NULL,
	STATUS VARCHAR(1) NOT NULL,
	LEASE_ID BIGINT NOT NULL,
	BLOCK_TITLE VARCHAR(64) NULL,
	START_DATE VARCHAR(10) NULL,
	END_DATE VARCHAR(10) NULL,
	APPLY_DATE VARCHAR(10) NULL,
	SETTLED_AMOUNT VARCHAR(20) NULL,
	FINISH_AMOUNT VARCHAR(20) NULL,
	BACK_OFF VARCHAR(1) NOT NULL,
	TRANSPORT_CACULATE_TYPE VARCHAR(1) NOT NULL,
	CACULATE_RULE VARCHAR(1) NOT NULL,
	DEL_FLAG VARCHAR(1) NOT NULL
)
CREATE TABLE T_LEASE_BLOCK_UP_DETAIL (
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	BLOCK_ID BIGINT NOT NULL,
	ITEM VARCHAR(24) NULL,
	AMOUNT VARCHAR(24) NULL
)
--租借其他业务
CREATE TABLE T_OTHER_LEASE_BUSINESS
(
	OTHER_ID BIGINT IDENTITY PRIMARY KEY,
	APPLYFOR_STATE VARCHAR(8) NOT NULL,				--状态
	USER_ID BIGINT NOT NULL,					
    USER_NAME VARCHAR(16) NOT NULL,					--制单人
	BUSINESS_SERIAL VARCHAR(32) NOT NULL,		--单据编号
	CHARGEABLE_TIME VARCHAR(24) NOT NULL,			--收费时间
	LEASE_ID BIGINT NOT NULL,						--租借合同
	PROJECT_NAME VARCHAR(64) NULL,			 		--项目名称
	TOTAL_COSTS VARCHAR(16) NULL,					--费用合计
	DEPOT_ID BIGINT NULL,				--基地仓库名称
	AFFILIATED_SERIAL VARCHAR(64) NULL,				--附属单号
	DEL_FLAG VARCHAR(1) NOT NULL 
);

--租借其他业务 Grid
CREATE TABLE T_OTHER_LEASE_DETAIL
(
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	OTHER_ID BIGINT NOT NULL,
	FEES_TYPE VARCHAR(6) NOT NULL,						--收费类型
	CALCULATION_METHOD VARCHAR(6) NOT NULL,			--结算关系
	FEE VARCHAR(24) NULL							--结算金额
);
--2018年7月31日23:17:10  项目仓库出入库表加LeaseId
ALTER TABLE T_PROJECT_DEPOT_IN_OUT ADD LEASE_ID BIGINT NULL;


--2018-8-16 15:56:58
--【租借报停】内部清单
CREATE TABLE T_INSIDE_BLOCK_UP_DETAIL (
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,
	BLOCK_ID BIGINT NOT NULL,
	ITEM VARCHAR(24) NULL,
	AMOUNT VARCHAR(24) NULL
)
ALTER TABLE T_LEASE_BLOCK_UP ADD INSIDE_SETTLEMENT_AMOUNT VARCHAR(32) NULL;
ALTER TABLE T_LEASE_SETTLEMENT ALTER COLUMN START_DATE VARCHAR(24) NULL;
ALTER TABLE T_LEASE_SETTLEMENT ALTER COLUMN END_DATE VARCHAR(24) NULL;
ALTER TABLE T_LEASE_OTHER_BUSINESS_DETAIL ADD OTHER_ID BIGINT NULL;
ALTER TABLE T_LEASE_OTHER_BUSINESS_DETAIL ALTER COLUMN RELATE_ID BIGINT NULL;

--内部报停清单【租借结算】
CREATE TABLE T_LEASE_SETTLEMENT_INSIDE_BLOCK_UP (
	DETAIL_ID BIGINT IDENTITY PRIMARY KEY,	
	SETTLEMENT_ID BIGINT NOT NULL,			
	BLOCK_ID BIGINT NOT NULL,
	BLOCK_TITLE VARCHAR(64) NULL,		
	BLOCK_SERIAL VARCHAR(64) NOT NULL,	
	PROJECT_NAME VARCHAR(128) NULL,	
	LEASE_UNIT VARCHAR(128) NULL,
	INSIDE_AMOUNT VARCHAR(32) NULL,
	START_DATE VARCHAR(24) NULL,
	END_DATE VARCHAR(20) NULL				
)

--2018-10-8 15:38:15  chenzj    周材其他业务 ，租借其他业务  加备注字段
ALTER TABLE T_OTHER_BUSINESS ADD REMARK VARCHAR(128) NULL;
ALTER TABLE T_OTHER_LEASE_BUSINESS ADD REMARK VARCHAR(128) NULL;


--2018-10-19 15:23:52 chenzj 周材结算增加字段：生效时间，失效时间，费用结算时间
ALTER TABLE T_SETTLE_MATERIALS ADD EFFECTIVE_TIME VARCHAR(24) NULL;
ALTER TABLE T_SETTLE_MATERIALS ADD LOSE_EFFECTIVE_TIME VARCHAR(24) NULL;
ALTER TABLE T_PROJECT_DEPOT_IN_OUT ADD CREATE_TIME VARCHAR(24) NULL;
ALTER TABLE T_SETTLE_MATERIALS ADD DETAIL_CACULATE_TIME VARCHAR(24) NULL;
--2018-10-25 11:02:24 周材其他业务模块增加  制单时间
ALTER TABLE T_OTHER_BUSINESS ADD APPLY_DATE VARCHAR(32) NULL;
ALTER TABLE T_EQUIPMENT_ACTIVATE ADD EFFECTIVE_DATE VARCHAR(10) NULL;


--2018-10-29 15:14:04  chenzj
ALTER TABLE T_EQUIPMENT_ACTIVATE ADD EFFECTIVE_DATE VARCHAR(10) NULL;   --生效时间

--2018-11-8 09:47:07 chenzj
ALTER TABLE T_SETTLE_PROJECT ADD DETAIL_CACULATE_TIME VARCHAR(24) NULL;   --明细计算时间
ALTER TABLE T_EQUIPMENT_BLOCKUP ADD EFFECTIVE_DATE VARCHAR(24) NULL;      --生效时间
ALTER TABLE T_EQUIPMENT_ACTIVATE ALTER COLUMN EFFECTIVE_DATE VARCHAR(24) NULL;    

--2018-11-21 15:34:48   设备现场装车 增加字段  收费数量，单价，金额
ALTER TABLE T_LOGISTICS_TRANDESTRIBUTION ADD CHARGE_NUM NUMERIC(12,2) NULL;
ALTER TABLE T_LOGISTICS_TRANDESTRIBUTION ADD PRICE NUMERIC(12,2) NULL;
ALTER TABLE T_LOGISTICS_TRANDESTRIBUTION ADD AMOUNT NUMERIC(16,2) NULL;
ALTER TABLE T_LOGISTICS_TRANSPORT ADD DISPATCH_ID BIGINT NULL;


 --2018-12-1 14:55:22 设备添加数据权限标识
 ALTER TABLE T_EQUIPMENT ADD PERMISSION_FLAG VARCHAR(3000) NULL;
 ALTER TABLE T_CONTRACT_LEASE ADD PERMISSION_FLAG VARCHAR(3000) NULL;
  ALTER TABLE T_CONTRACT_LEASE ADD COMPETENT_DEPARTMET_ID BIGINT NULL;
 ALTER TABLE APP_ROLE ADD DATA_PERMISSION text null
 
 ALTER TABLE T_CONTRACT_ARRANGE ADD INUSE BIGINT NULL;
 ALTER TABLE T_CONTRACT_LEASE ADD ARRANGE_ID BIGINT NULL;

--2018-12-25 app故障报修增加字段 “付款状态”
ALTER TABLE T_APP_REPAIR ADD PAYMENT_STATE VARCHAR(1) NULL;--付款状态
ALTER TABLE T_APP_REPAIR ADD START_OFF_TIME VARCHAR(24) NULL;--赶往时间

--2019-2-1 17:04:04 部门增加排序字段
ALTER TABLE DEPARTMENT ADD SORT_FIELD INT NULL;

--2019-01-11 
ALTER TABLE T_CONTRACT_ARRANGE ALTER COLUMN PROJECT_NAME VARCHAR(256) NULL;
ALTER TABLE T_CONTRACT_ARRANGE ALTER COLUMN CUSTOMER_NAME VARCHAR(128) NULL;
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN PROJECT_NAME VARCHAR(256) NULL;
ALTER TABLE T_CONTRACT_LEASE ALTER COLUMN PB_ENT_NAME VARCHAR(128) NULL;
ALTER TABLE T_DISPATCH ALTER COLUMN PROJECT_NAME VARCHAR(256) NULL;
ALTER TABLE T_DISPATCH ALTER COLUMN PROJECT_NAME VARCHAR(256) NULL;
ALTER TABLE T_EQUIPMENT_DIARY ALTER COLUMN PROJECT_NAME VARCHAR(256) NULL;

--2019-01-29
ALTER TABLE T_APP_DISPATCH_EQUIP_DETAIL ADD TRANSPORT_UNIT VARCHAR(128) NULL;
ALTER TABLE T_APP_DISPATCH ADD TRANSPORT_UNIT VARCHAR(128) NULL;
ALTER TABLE T_APP_LOGISTICS ADD IS_COMPLETE CHAR(1) NULL;
ALTER TABLE T_APP_LOGISTICS ADD SIGN_PIC VARCHAR(32) NULL;


--2019-2-26 15:55:21
ALTER TABLE T_SETTLE_PROJECT ADD DEL_FLAG VARCHAR(1) NOT NULL DEFAULT '1';

--2019-2-25 18:03:19  租借费用清单
CREATE TABLE T_RENT_FEE_DETAIL (
	RENT_FEE_ID BIGINT IDENTITY PRIMARY KEY,
	SETTLE_ID BIGINT NULL,
	EQUIPMENT_NO VARCHAR(64) NULL,
	RECORD_ID VARCHAR(64) NULL,
	EQUIP_SPECIFIC_NAME VARCHAR(64) NULL,
	ACTIVATE_DATE VARCHAR(24) NULL,
	START_DATE VARCHAR(24) NULL,
	END_DATE VARCHAR(24) NULL,
	DAYS VARCHAR(8) NULL,
	RENT_STANDARD VARCHAR(24) NULL,
	RENT_UNIT VARCHAR(16) NULL,
	TOTAL_AMOUNT VARCHAR(64) NULL,
	FEE_TYPE VARCHAR(24) NULL
)

--2019-2-26 19:11:02 安装费用清单 chenzj
CREATE TABLE T_INSTALL_FEE_DETAIL(
	INSTALL_FEE_ID BIGINT IDENTITY PRIMARY KEY,
	SETTLE_ID BIGINT NULL,
	START_TIME VARCHAR(24) NULL,
	EQUIPMENT_NO VARCHAR(64) NULL,
	EQUIP_SPECIFIC_NAME VARCHAR(64) NULL,
	FEES_TYPE_NAME VARCHAR(64)NULL,
	UNIT VARCHAR(24) NULL,
	NUMBER VARCHAR(24) NULL,
	PROJECT_PRICE VARCHAR(24) NULL,
	CHARGES_SUBTOTAL VARCHAR(24) NULL
)
-- 汽吊费用清单
CREATE TABLE T_AUTO_CRANE_FEE_DETAIL(
	AUTO_CRANE_ID BIGINT IDENTITY PRIMARY KEY,
	SETTLE_ID BIGINT NULL,
	START_TIME VARCHAR(24) NULL,
	EQUIPMENT_NO VARCHAR(64) NULL,
	TRUCK_CRANE_SPECIFIC VARCHAR(64) NULL,
	NUMBER VARCHAR(64)NULL,
	MACHINE_TEAM VARCHAR(24) NULL,
	PROJECT_PRICE VARCHAR(24) NULL,
	CHARGES_SUBTOTAL VARCHAR(24) NULL
)
-- 丢失费用清单
CREATE TABLE T_LOST_FEE_DETAIL(
	LOST_FEE_ID BIGINT IDENTITY PRIMARY KEY,
	SETTLE_ID BIGINT NULL,
	LOST_DATE VARCHAR(24) NULL,
	COMMODITY VARCHAR(64) NULL,
	COMPON_SPECIFIC VARCHAR(64) NULL,
	LOST_COUNTS VARCHAR(24) NULL,
	LOST_COSTS VARCHAR(12) NULL,
	DAMAGE_COUNTS VARCHAR(24) NULL,
	DAMAGE_COSTS VARCHAR(24) NULL,
	TOTALS VARCHAR(24) NULL,
	DESCRIBE VARCHAR(128) NULL
)
-- 其他费用清单
CREATE TABLE T_OTHER_FEE_DETAIL(
	OTHER_FEE_ID BIGINT IDENTITY PRIMARY KEY,
	SETTLE_ID BIGINT NULL,
	CHARGEABLE_TIME VARCHAR(24) NULL,
	FEES_TYPE_NAME VARCHAR(24) NULL,
	CALCULATION_METHOD_NAME VARCHAR(24) NULL,
	FEE VARCHAR(24) NULL
)
-- 中途报停费用清单
CREATE TABLE T_HALFWAY_BLOCKUP_DETAIL(
	HALFWAY_ID BIGINT IDENTITY PRIMARY KEY,
	SETTLE_ID BIGINT NULL,
	BLOCKUP_SERIAL VARCHAR(64) NULL,
	CONTRACT_SERIAL VARCHAR(64) NULL,
	PROJECT_NAME VARCHAR(128) NULL,
	BLOCKUP_DATE VARCHAR(24) NULL,
	REACTIVATE_DATE VARCHAR(24) NULL,
	START_DATE VARCHAR(24) NULL,
	END_DATE VARCHAR(24) NULL,
	DAYS VARCHAR(12) NULL,
	AMOUNT VARCHAR(24) NULL
)

--其他费用清单
CREATE TABLE T_OTHER_EXPENSE_STATEMENT 
(
	STATEMENT_ID BIGINT IDENTITY PRIMARY KEY,
	SETTLE_ID BIGINT NOT NULL,
	EQUIP_ID BIGINT NULL,
	EXPENSE_ITEM VARCHAR(64) NULL,
	NUMBER VARCHAR(12) NULL,
	PRICE VARCHAR(12) NULL,
	UNIT VARCHAR(12) NULL,
	AMOUNT VARCHAR(24) NULL,
	TAX_RATE VARCHAR(24) NULL,
	PRE_TAX_AMOUNT VARCHAR(24) NULL,
	AFTER_TAX_AMOUNT VARCHAR(24) NULL,
	TAXES VARCHAR(24) NULL
)
--安全监控系统结算清单
CREATE TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT 
(
	STATEMENT_ID BIGINT IDENTITY PRIMARY KEY,
	SETTLE_ID BIGINT NOT NULL,
	EQUIP_ID BIGINT NULL,
	BUILDING_NUM VARCHAR(24) NULL,
	EQUIP_CATEGORY_NAME VARCHAR(64) NULL,
	EQUIP_SPECIFIC_NAME VARCHAR(64) NULL,
	EQUIP_SERIAL VARCHAR(64) NULL,
	START_SETTLE_DATE VARCHAR(10) NULL,
	END_SETTLE_DATE VARCHAR(10) NULL,
	SETTLE_DAYS INT NULL,
	TAX_RATE VARCHAR(24) NULL,
	PRE_TAX_AMOUNT VARCHAR(24) NULL,
	AFTER_TAX_AMOUNT VARCHAR(24) NULL,
	TAXES VARCHAR(24) NULL
)
--操作人员工资结算清单
CREATE TABLE T_OPERATOR_SALARY_STATEMENT 
(
	STATEMENT_ID BIGINT IDENTITY PRIMARY KEY,
	SETTLE_ID BIGINT NOT NULL,
	EQUIP_ID BIGINT NULL,
	BUILDING_NUM VARCHAR(24) NULL,
	EQUIP_CATEGORY_NAME VARCHAR(64) NULL,
	EQUIP_SPECIFIC_NAME VARCHAR(64) NULL,
	EQUIP_SERIAL VARCHAR(64) NULL,
	START_SETTLE_DATE VARCHAR(10) NULL,
	END_SETTLE_DATE VARCHAR(10) NULL,
	SETTLE_DAYS INT NULL,
	TAX_RATE VARCHAR(24) NULL,
	FOOD_ALLOWANCE VARCHAR(24) NULL,
	PRE_TAX_AMOUNT VARCHAR(24) NULL,
	AFTER_TAX_AMOUNT VARCHAR(24) NULL,
	TAXES VARCHAR(24) NULL,
	REMARK VARCHAR(256) NULL,
)

--修改税率字段类型
ALTER TABLE T_SETTLE_CONTRACT ALTER COLUMN TAX_RATE VARCHAR(24) NULL; 
--现场安装添加进场序号
ALTER TABLE T_EQUIPMENT_INSTALL ADD APPROACH_NUMBER VARCHAR(24) NULL;
--现场安装修改合同编号长度
ALTER TABLE T_EQUIPMENT_INSTALL ALTER COLUMN CONTRACT_SERIAL VARCHAR(128) NULL;
--2019-4-12 15:04:19 结算管理增加 累计结算金额
ALTER TABLE T_SETTLE_CONTRACT ADD ACCUMULATED_AMOUNT NUMERIC(12,2) NULL

--设备合同    安全监控表
CREATE TABLE T_SAFETY_MONITOR_SETTLE_LIST
(
  LIST_ID                  BIGINT IDENTITY PRIMARY KEY,
  CONTRACT_ID                  BIGINT NOT NULL,        
  BUILDING_NUM              VARCHAR(32) NULL,   
  EQUIP_CATEGORY_NAME              VARCHAR(32)  NULL,               
  EQUIP_SPECIFIC_NAME            VARCHAR(32) NOT NULL,           
  RENT_STANDARD                 VARCHAR(128) NOT NULL,     
  RENT_UNIT                 VARCHAR(32)  NULL,         
  DAYS_RENT            NUMERIC(12,2) NOT NULL
);
--添加整月字段
ALTER TABLE T_SETTLE_COMPON_BRIEF ADD MONTH_TAG VARCHAR(5) NULL;


2019-04-20 添加结算管理页签的字段
ALTER TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT ADD EQUIP_DIARY_ID bigint  NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT ADD RECORD_SERIAL VARCHAR(64) NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT ADD RECORD_ID VARCHAR(64)NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT ADD EXW_SERIAL VARCHAR(64) NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT ADD UNIT VARCHAR(16) NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT ADD QUANTITY smallint NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT ADD DAYS_RENT NUMERIC(12,3) NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT ADD DEDUCT_RENT NUMERIC(12,2) NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT ADD SUMMARY NUMERIC(12,2) NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT ADD MONTH_TAG VARCHAR(5) NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_STATEMENT ADD REMARK VARCHAR(256) NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD EQUIP_DIARY_ID bigint NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD RECORD_SERIAL VARCHAR(64) NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD RECORD_ID VARCHAR(64) NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD EXW_SERIAL VARCHAR(64) NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD UNIT VARCHAR(16) NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD RENT_STANDARD NUMERIC(12,2) NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD MEASUREMENT VARCHAR(6) NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD QUANTITY smallint NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD DAYS_RENT NUMERIC(12,3) NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD DEDUCT_RENT NUMERIC(12,2) NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD SUMMARY NUMERIC(12,2) NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD MONTH_TAG VARCHAR(5) NULL;
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ADD COST_TOTAL NUMERIC(12,2) NULL;
--2019-04-21 结算管理增加合同编号字段
ALTER TABLE T_SETTLE_CONTRACT ADD CONTRACT_NO VARCHAR(64) NULL;
--2019-04-22 
ALTER TABLE T_SETTLE_CONTRACT ADD SUMMARY_RECEIVABLE NUMERIC(12,2) NULL;
ALTER TABLE T_SETTLE_CONTRACT ADD SUMMARY_RECEIVED NUMERIC(12,2) NULL;
ALTER TABLE T_SETTLE_CONTRACT ADD ARREARS NUMERIC(12,2) NULL;
ALTER TABLE T_OTHER_EXPENSE_STATEMENT ALTER COLUMN NUMBER smallint NULL;
ALTER TABLE T_OTHER_EXPENSE_STATEMENT ALTER COLUMN PRICE NUMERIC(12,2) NULL;
ALTER TABLE T_OTHER_EXPENSE_STATEMENT ALTER COLUMN AMOUNT NUMERIC(12,2) NULL;
--2019-04-24
ALTER TABLE T_OPERATOR_SALARY_STATEMENT ALTER COLUMN FOOD_ALLOWANCE NUMERIC(12,2) NULL;

ALTER TABLE T_SETTLE_CONTRACT ADD LEASE_PROJECT_HEAD VARCHAR(64) NULL;
ALTER TABLE T_SETTLE_CONTRACT ADD RECEIVED_AMOUNT NUMERIC(12,2) NULL;
ALTER TABLE T_SETTLE_EQUIP_BRIEF ADD EQUIP_SERIAL VARCHAR(64) NULL;
ALTER TABLE T_OTHER_EXPENSE_STATEMENT ADD BUILDING_NUM VARCHAR(64) NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_LIST ADD EQUIP_ID BIGINT NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_LIST ADD START_SETTLE_DATE CHAR(10) NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_LIST ADD END_SETTLE_DATE CHAR(10) NULL;
ALTER TABLE T_SAFETY_MONITOR_SETTLE_LIST ADD EQUIP_SERIAL VARCHAR(64) NULL;

--2019-04-28
ALTER TABLE T_OTHER_EXPENSE_STATEMENT ADD EQUIP_SERIAL VARCHAR(64) NULL;
ALTER TABLE T_OTHER_EXPENSE_STATEMENT ADD EXW_SERIAL VARCHAR(64) NULL;
ALTER TABLE T_OTHER_EXPENSE_STATEMENT ADD EQUIP_SPECIFIC_NAME VARCHAR(64) NULL;
